(window.webpackJsonp=window.webpackJsonp||[]).push([[92,201,202,525,526,527,528,529],{244:function(m,w,n){var d=Object.create,_=Object.defineProperty,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,h=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,P=(g,i)=>{for(var l in i)_(g,l,{get:i[l],enumerable:!0})},V=(g,i,l,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let e of M(i))!E.call(g,e)&&e!==l&&_(g,e,{get:()=>i[e],enumerable:!(r=b(i,e))||r.enumerable});return g},y=(g,i,l)=>(l=g!=null?d(h(g)):{},V(i||!g||!g.__esModule?_(l,"default",{value:g,enumerable:!0}):l,g)),x=g=>V(_({},"__esModule",{value:!0}),g),p={};P(p,{default:()=>S}),m.exports=x(p);var o=y(n(5266)),v=y(n(3708)),j=y(n(3709)),O=y(n(3710)),S={component:o.default,store:v.default,locales:{de:j.default,en:O.default}}},3359:function(m,w,n){var d=Object.defineProperty,_=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,h=(p,o)=>{for(var v in o)d(p,v,{get:o[v],enumerable:!0})},E=(p,o,v,j)=>{if(o&&typeof o=="object"||typeof o=="function")for(let O of b(o))!M.call(p,O)&&O!==v&&d(p,O,{get:()=>o[O],enumerable:!(j=_(o,O))||j.enumerable});return p},P=p=>E(d({},"__esModule",{value:!0}),p),V={};h(V,{default:()=>x}),m.exports=P(V);var x={active:!1,id:"vcOblique",name:"additional:menu.tools.obliqueViewer",icon:"bi-camera-fill",styleId:"",renderToWindow:!1,resizableWindow:!0,isVisibleInMenu:!0,deactivateGFI:!0,initialWidth:500,obliqueViewerURL:"",lastCoordinates:"",defaultMapMarkerStyleId:"",heading:0,serviceId:"oblique"}},3486:function(m,w,n){var d=Object.create,_=Object.defineProperty,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,y=(r,e,t)=>e in r?_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,x=(r,e)=>{for(var t in e||(e={}))P.call(e,t)&&y(r,t,e[t]);if(h)for(var t of h(e))V.call(e,t)&&y(r,t,e[t]);return r},p=(r,e)=>{for(var t in e)_(r,t,{get:e[t],enumerable:!0})},o=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of M(e))!P.call(r,f)&&f!==t&&_(r,f,{get:()=>e[f],enumerable:!(s=b(e,f))||s.enumerable});return r},v=(r,e,t)=>(t=r!=null?d(E(r)):{},o(e||!r||!r.__esModule?_(t,"default",{value:r,enumerable:!0}):t,r)),j=r=>o(_({},"__esModule",{value:!0}),r),O={};p(O,{default:()=>l}),m.exports=j(O);var S=n(7),g=v(n(3359)),l=x({},(0,S.generateSimpleMutations)(g.default))},3516:function(m,w,n){(function(d){var _=Object.create,b=Object.defineProperty,M=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,E=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,V=(i,l)=>{for(var r in l)b(i,r,{get:l[r],enumerable:!0})},y=(i,l,r,e)=>{if(l&&typeof l=="object"||typeof l=="function")for(let t of h(l))!P.call(i,t)&&t!==r&&b(i,t,{get:()=>l[t],enumerable:!(e=M(l,t))||e.enumerable});return i},x=(i,l,r)=>(r=i!=null?_(E(i)):{},y(l||!i||!i.__esModule?b(r,"default",{value:i,enumerable:!0}):r,i)),p=i=>y(b({},"__esModule",{value:!0}),i),o=(i,l,r)=>new Promise((e,t)=>{var s=a=>{try{q(r.next(a))}catch(u){t(u)}},f=a=>{try{q(r.throw(a))}catch(u){t(u)}},q=a=>a.done?e(a.value):Promise.resolve(a.value).then(s,f);q((r=r.apply(i,l)).next())}),v={};V(v,{default:()=>g}),m.exports=p(v);var j=x(n(54)),O=x(n(64)),g={initObliqueView({commit:i,dispatch:l,getters:r,rootGetters:e}){const t=document.getElementById("obliqueIframe");t?.addEventListener("load",()=>{const s=new MutationObserver(()=>{const f=t.contentWindow.document.getElementById("header"),q=t.contentWindow.document.getElementsByClassName("vcm-btn-icon single-first maptool-btn vcm-btn-base-default vcm-btn-base-splash-hover vcm-border vcm-border-dye03 vcm-btn-icon-font-default vcm-btn-icon-font-dye01-hover vcm-no-select vcm-btn-map-Oblique")[0],a=t.contentWindow.document.getElementsByClassName("overview-map-wrap")[0],u=document.getElementById("obliqueIframe").contentWindow.vcs,c=u.vcm.Framework.getInstance().getActiveMap(),C=mapCollection.getMap("2D").getPixelFromCoordinate(e["Maps/initialCenter"]),D=t.contentWindow.document.getElementsByClassName("mapElement vcm-map-top");if(i("Maps/setClickCartesianCoordinate",C,{root:!0}),c&&(c.olMap.on("moveend",()=>{const I=j.default.transform("EPSG:4326",mapCollection.getMapView("2D").getProjection().getCode(),c.getViewPointSync().groundPosition);I.every((R,L)=>Math.round(R)!==Math.round(r.lastCoordinates[L])&&(R-r.lastCoordinates[L]>50||R-r.lastCoordinates[L]<-50)?(l("setObliqueView",I),!1):!0)}),c.imageChanged.addEventListener(()=>o(this,null,function*(){const I=yield c.getViewPoint();I.heading!==r.heading&&l("MapMarker/rotatePointMarker",I.heading,{root:!0}),i("setHeading",I.heading)}))),f){f.style.display="none",f.parentElement.style.display="none";for(const I of D)I.style.top=0;i("setDefaultMapMarkerStyleId",e["MapMarker/pointStyleId"]),r.styleId&&i("MapMarker/setPointStyleId",r.styleId,{root:!0}),l("setObliqueView",e["Maps/center"]),s.disconnect()}q&&(q.style.display="none"),a&&(a.style.display="none")});s.observe(t.contentDocument,{childList:!0,subtree:!0})})},resetObliqueViewer({commit:i,dispatch:l,getters:r}){i("MapMarker/setPointStyleId",r.defaultMapMarkerStyleId,{root:!0}),l("MapMarker/removePointMarker",null,{root:!0})},setObliqueView(i){return o(this,arguments,function*({commit:l,dispatch:r,getters:e},t=[]){var s,f,q,a,u;const c=(f=(s=document.getElementById("obliqueIframe"))==null?void 0:s.contentWindow)==null?void 0:f.vcs,C=(a=(q=c?.vcm)==null?void 0:q.Framework)==null?void 0:a.getInstance(),D=C?.getActiveMap();let I={};C&&t&&Array.isArray(t)&&t.length>1?(l("setLastCoordinates",t),(u=c?.vcm)!=null&&u.util&&(I=new c.vcm.util.ViewPoint({groundPosition:j.default.transform(mapCollection.getMapView("2D").getProjection().getCode(),"EPSG:4326",t),heading:e.heading,distance:D.getViewPointSync().distance})),yield C?.getActiveMap().gotoViewPoint(I),r("MapMarker/placingPointMarker",t,{root:!0}),r("MapMarker/rotatePointMarker",e.heading,{root:!0})):r("Alerting/addSingleAlert","<strong>"+d.t("additional:modules.tools.vcOblique.frameworkUndefined")+"</strong><br><small>"+d.t("additional:modules.tools.vcOblique.frameworkUndefinedMessage")+"</small>",{root:!0})})},setObliqueViewerURL({commit:i,dispatch:l,getters:r,rootGetters:e},t){if(t&&Array.isArray(t)&&t.length>1){const s=j.default.transform(mapCollection.getMapView("2D").getProjection().getCode(),"EPSG:4326",t),f=s[0]+", "+s[1];document.location.hostname==="localhost"?i("setObliqueViewerURL",(0,O.default)(e.getRestServiceById(r.serviceId).url)+"?groundPosition="+f):l("setObliqueViewerURLWithSameHostname",f)}},setObliqueViewerURLWithSameHostname({commit:i,dispatch:l,getters:r,rootGetters:e},t){const s=e.getRestServiceById(r.serviceId).url.split("https://")[1].split("/");document.location.hostname===s[0]?i("setObliqueViewerURL",e.getRestServiceById(r.serviceId).url+"?groundPosition="+t):document.location.hostname.startsWith("www.")&&document.location.hostname.split("www.")[1]===s[0]?l("setObliqueViewerURLWithReplacedHostname",{urlParts:s,startCoordinates:t}):l("Alerting/addSingleAlert",d.t("additional:modules.tools.vcOblique.sameOrigin"),{root:!0})},setObliqueViewerURLWithReplacedHostname({commit:i},{urlParts:l,startCoordinates:r}){let e="https:/";l.forEach((t,s)=>{s===0?e=e+"/"+document.location.hostname:e=e+"/"+t}),i("setObliqueViewerURL",e+"?groundPosition="+r)}}}).call(this,n(5))},3517:function(m,w,n){var d=Object.create,_=Object.defineProperty,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,y=(r,e,t)=>e in r?_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,x=(r,e)=>{for(var t in e||(e={}))P.call(e,t)&&y(r,t,e[t]);if(h)for(var t of h(e))V.call(e,t)&&y(r,t,e[t]);return r},p=(r,e)=>{for(var t in e)_(r,t,{get:e[t],enumerable:!0})},o=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of M(e))!P.call(r,f)&&f!==t&&_(r,f,{get:()=>e[f],enumerable:!(s=b(e,f))||s.enumerable});return r},v=(r,e,t)=>(t=r!=null?d(E(r)):{},o(e||!r||!r.__esModule?_(t,"default",{value:r,enumerable:!0}):t,r)),j=r=>o(_({},"__esModule",{value:!0}),r),O={};p(O,{default:()=>l}),m.exports=j(O);var S=n(7),g=v(n(3359)),l=x({},(0,S.generateSimpleGetters)(g.default))},3708:function(m,w,n){var d=Object.create,_=Object.defineProperty,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,E=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,y=(e,t,s)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,x=(e,t)=>{for(var s in t||(t={}))P.call(t,s)&&y(e,s,t[s]);if(h)for(var s of h(t))V.call(t,s)&&y(e,s,t[s]);return e},p=(e,t)=>{for(var s in t)_(e,s,{get:t[s],enumerable:!0})},o=(e,t,s,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let q of M(t))!P.call(e,q)&&q!==s&&_(e,q,{get:()=>t[q],enumerable:!(f=b(t,q))||f.enumerable});return e},v=(e,t,s)=>(s=e!=null?d(E(e)):{},o(t||!e||!e.__esModule?_(s,"default",{value:e,enumerable:!0}):s,e)),j=e=>o(_({},"__esModule",{value:!0}),e),O={};p(O,{default:()=>r}),m.exports=j(O);var S=v(n(3516)),g=v(n(3486)),i=v(n(3517)),l=v(n(3359)),r={namespaced:!0,state:x({},l.default),mutations:g.default,actions:S.default,getters:i.default}},3709:function(m){m.exports=JSON.parse('{"menu":{"tools":{"vcOblique":"Schr\xE4gluftbilder"}},"modules":{"tools":{"vcOblique":{"title":"Schr\xE4gluftbilder","frameworkUndefined":"Schr\xE4gluftbilder","frameworkUndefinedMessage":"Es ist ein Fehler bei der Anzeige der Schr\xE4gluftbilder aufgetreten. Starten Sie die Anwendung bitte erneut. Sollte der Fehler weiterhin auftreten melden Sie ihn bitte \xFCber Kontakt.","sameOrigin":"Die eingebundene Website kann nicht angezeigt werden. Bitte stellen Sie sicher, dass sich die eingebundene Website auf dem selben Server wie das aufgerufene Portal befindet."}}}}')},3710:function(m){m.exports=JSON.parse('{"menu":{"tools":{"vcOblique":"Oblique aerial view"}},"modules":{"tools":{"vcOblique":{"title":"Oblique aerial view","frameworkUndefined":"Oblique aerial view","frameworkUndefinedMessage":"An error has occurred while displaying the oblique aerial images. Please restart the application. If the error still occurs, please report it via Contact.","sameOrigin":"The included website cannot be displayed. Please make sure that the included website is on the same server as the accessed portal."}}}}')},4225:function(m,w,n){"use strict";n.r(w);var d=n(4226),_=n.n(d);for(var b in d)["default"].indexOf(b)<0&&function(M){n.d(w,M,function(){return d[M]})}(b);w.default=_.a},4226:function(m,w,n){var d=Object.create,_=Object.defineProperty,b=Object.defineProperties,M=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,V=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,p=(a,u,c)=>u in a?_(a,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[u]=c,o=(a,u)=>{for(var c in u||(u={}))y.call(u,c)&&p(a,c,u[c]);if(P)for(var c of P(u))x.call(u,c)&&p(a,c,u[c]);return a},v=(a,u)=>b(a,h(u)),j=(a,u)=>{for(var c in u)_(a,c,{get:u[c],enumerable:!0})},O=(a,u,c,C)=>{if(u&&typeof u=="object"||typeof u=="function")for(let D of E(u))!y.call(a,D)&&D!==c&&_(a,D,{get:()=>u[D],enumerable:!(C=M(u,D))||C.enumerable});return a},S=(a,u,c)=>(c=a!=null?d(V(a)):{},O(u||!a||!a.__esModule?_(c,"default",{value:a,enumerable:!0}):c,a)),g=a=>O(_({},"__esModule",{value:!0}),a),i={};j(i,{default:()=>q}),m.exports=g(i);var l=S(n(291)),r=n(9),e=n(36),t=S(n(57)),s=S(n(3486)),f=S(n(5268));l.default.directive("resize",{bind:function(a,{value:u={}}){a.addEventListener("load",()=>(0,f.default)(u,a))},unbind:function(a){var u;(u=a?.iFrameResizer)==null||u.removeListeners()}});var q={name:"VcOblique",components:{ToolTemplate:t.default},computed:o(o(o({},(0,r.mapGetters)("Tools/VcOblique",["active","deactivateGFI","defaultMapMarkerStyleId","icon","initialWidth","name","obliqueViewerURL","renderToWindow","resizableWindow"])),(0,r.mapGetters)("Maps",["clickCoordinate","initialCenter"])),(0,r.mapGetters)({isMobile:"mobile"})),watch:{active(a){a?this.$nextTick(()=>{this.setObliqueViewerURL(this.initialCenter),this.initObliqueView()}):this.resetObliqueViewer()},clickCoordinate(a){this.active===!0&&this.setObliqueView(a)},isMobile(a){this.setRenderToWindow(a)}},created(){this.$on("close",this.close)},methods:v(o(o({},(0,r.mapMutations)("Tools/VcOblique",Object.keys(s.default))),(0,r.mapActions)("Tools/VcOblique",["initObliqueView","resetObliqueViewer","setObliqueView","setObliqueViewerURL"])),{close(){const a=(0,e.getComponent)("vcOblique");this.setActive(!1),a&&a.set("isActive",!1)}})}},4593:function(m,w,n){var d=Object.defineProperty,_=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,h=(p,o)=>{for(var v in o)d(p,v,{get:o[v],enumerable:!0})},E=(p,o,v,j)=>{if(o&&typeof o=="object"||typeof o=="function")for(let O of b(o))!M.call(p,O)&&O!==v&&d(p,O,{get:()=>o[O],enumerable:!(j=_(o,O))||j.enumerable});return p},P=p=>E(d({},"__esModule",{value:!0}),p),V={};h(V,{render:()=>y,staticRenderFns:()=>x}),m.exports=P(V);var y=function(){var o=this,v=o._self._c;return v("ToolTemplate",{attrs:{title:o.$t(o.name),icon:o.icon,active:o.active,"render-to-window":o.renderToWindow,"resizable-window":o.resizableWindow,"deactivate-gfi":o.deactivateGFI,"initial-width":o.initialWidth},scopedSlots:o._u([{key:"toolBody",fn:function(){return[o.active?v("div",{attrs:{id:"obliqueViewer"}},[v("iframe",{directives:[{name:"resize",rawName:"v-resize",value:{},expression:"{}"}],ref:"iframeContent",attrs:{id:"obliqueIframe",title:"ObliqueIframe",width:"100%",height:"100%",frameboarder:"0",src:o.obliqueViewerURL}})]):o._e()]},proxy:!0}])})},x=[];y._withStripped=!0},4594:function(m,w,n){},5266:function(m,w,n){"use strict";n.r(w);var d=n(5267),_=n(4225);for(var b in _)["default"].indexOf(b)<0&&function(P){n.d(w,P,function(){return _[P]})}(b);var M=n(5269),h=n(0),E=Object(h.a)(_.default,d.render,d.staticRenderFns,!1,null,"9a3f0890",null);w.default=E.exports},5267:function(m,w,n){"use strict";var d=n(4593),_=n.n(d);n.o(d,"render")&&n.d(w,"render",function(){return d.render}),n.o(d,"staticRenderFns")&&n.d(w,"staticRenderFns",function(){return d.staticRenderFns})},5269:function(m,w,n){"use strict";var d=n(4594),_=n.n(d)}}]);
