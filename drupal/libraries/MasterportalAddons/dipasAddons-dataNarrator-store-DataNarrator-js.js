(window.webpackJsonp=window.webpackJsonp||[]).push([[401,402,403,404,405,406,407,410],{3315:function(x,A,m){var g=Object.defineProperty,c=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,N=(h,r)=>{for(var t in r)g(h,t,{get:r[t],enumerable:!0})},M=(h,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of I(r))!S.call(h,u)&&u!==t&&g(h,u,{get:()=>r[u],enumerable:!(a=c(r,u))||a.enumerable});return h},w=h=>M(g({},"__esModule",{value:!0}),h),j={};N(j,{emptyStoryConf:()=>i,htmlEditorToolbar:()=>P,storyCreationViews:()=>v,storyTellingModeIcons:()=>E,storyTellingModes:()=>O}),x.exports=w(j);const O={CREATE:"create",PLAY:"play"},E={[O.CREATE]:"add",[O.PLAY]:"play_arrow"},v={STORY_CREATION:"story",STEP_CREATION:"step",PREVIEW:"preview"},i={chapters:[],steps:[]},P=[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],[{color:[]},{background:[]}],["link","image"],["clean"]]},3316:function(x,A,m){var g=Object.defineProperty,c=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,w=(t,a,u)=>a in t?g(t,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):t[a]=u,j=(t,a)=>{for(var u in a||(a={}))N.call(a,u)&&w(t,u,a[u]);if(S)for(var u of S(a))M.call(a,u)&&w(t,u,a[u]);return t},O=(t,a)=>{for(var u in a)g(t,u,{get:a[u],enumerable:!0})},E=(t,a,u,y)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of I(a))!N.call(t,s)&&s!==u&&g(t,s,{get:()=>a[s],enumerable:!(y=c(a,s))||y.enumerable});return t},v=t=>E(g({},"__esModule",{value:!0}),t),i={};O(i,{default:()=>r}),x.exports=v(i);var P=m(3315),r={id:"dataNarrator",storyConf:j({},P.emptyStoryConf),htmlContents:{},htmlContentsImages:{},autoplay:!1,active:!1,keepOpen:!0,name:"Story Telling Tool",glyphicon:"glyphicon-book",renderToWindow:!0,resizableWindow:!0,isVisibleInMenu:!0,deactivateGFI:!1,initialWidth:500,initialWidthMobile:300,storyInterval:null}},3321:function(x,A,m){var g=Object.create,c=Object.defineProperty,I=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,N=Object.getOwnPropertySymbols,M=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,O=(s,p,b)=>p in s?c(s,p,{enumerable:!0,configurable:!0,writable:!0,value:b}):s[p]=b,E=(s,p)=>{for(var b in p||(p={}))w.call(p,b)&&O(s,b,p[b]);if(N)for(var b of N(p))j.call(p,b)&&O(s,b,p[b]);return s},v=(s,p)=>{for(var b in p)c(s,b,{get:p[b],enumerable:!0})},i=(s,p,b,_)=>{if(p&&typeof p=="object"||typeof p=="function")for(let e of S(p))!w.call(s,e)&&e!==b&&c(s,e,{get:()=>p[e],enumerable:!(_=I(p,e))||_.enumerable});return s},P=(s,p,b)=>(b=s!=null?g(M(s)):{},i(p||!s||!s.__esModule?c(b,"default",{value:s,enumerable:!0}):b,s)),h=s=>i(c({},"__esModule",{value:!0}),s),r={};v(r,{default:()=>y}),x.exports=h(r);var t=m(7),a=P(m(3316)),y=E({},(0,t.generateSimpleGetters)(a.default))},3342:function(x,A,m){var g=Object.defineProperty,c=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,N=(v,i)=>{for(var P in i)g(v,P,{get:i[P],enumerable:!0})},M=(v,i,P,h)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of I(i))!S.call(v,r)&&r!==P&&g(v,r,{get:()=>i[r],enumerable:!(h=c(i,r))||h.enumerable});return v},w=v=>M(g({},"__esModule",{value:!0}),v),j={};N(j,{getHTMLContentReference:()=>E,getStepReference:()=>O}),x.exports=w(j);function O(v,i){return`${v}.${i}`}function E(v,i){return`step_${v}-${i}`}},3343:function(x,A,m){var g=Object.create,c=Object.defineProperty,I=Object.defineProperties,S=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(e,n,d)=>n in e?c(e,n,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[n]=d,i=(e,n)=>{for(var d in n||(n={}))O.call(n,d)&&v(e,d,n[d]);if(w)for(var d of w(n))E.call(n,d)&&v(e,d,n[d]);return e},P=(e,n)=>I(e,N(n)),h=(e,n)=>{for(var d in n)c(e,d,{get:n[d],enumerable:!0})},r=(e,n,d,$)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of M(n))!O.call(e,o)&&o!==d&&c(e,o,{get:()=>n[o],enumerable:!($=S(n,o))||$.enumerable});return e},t=(e,n,d)=>(d=e!=null?g(j(e)):{},r(n||!e||!e.__esModule?c(d,"default",{value:e,enumerable:!0}):d,e)),a=e=>r(c({},"__esModule",{value:!0}),e),u={};h(u,{default:()=>_}),x.exports=a(u);var y=t(m(3406)),s=t(m(3316));const p=JSON.parse(JSON.stringify(s.default));var _=P(i({},y.default),{resetModule({commit:e}){e("setStoryConf",p.storyConf),e("setHtmlContents",p.htmlContents),e("setHtmlContentsImages",p.htmlContentsImages),e("setInitialWidth",p.initialWidth)},resetCreatorContent({commit:e}){e("setHtmlContents",p.htmlContents),e("setHtmlContentsImages",p.htmlContentsImages),e("setInitialWidth",p.initialWidth)}})},3344:function(x,A,m){var g=Object.create,c=Object.defineProperty,I=Object.defineProperties,S=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(_,e,n)=>e in _?c(_,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):_[e]=n,i=(_,e)=>{for(var n in e||(e={}))O.call(e,n)&&v(_,n,e[n]);if(w)for(var n of w(e))E.call(e,n)&&v(_,n,e[n]);return _},P=(_,e)=>I(_,N(e)),h=(_,e)=>{for(var n in e)c(_,n,{get:e[n],enumerable:!0})},r=(_,e,n,d)=>{if(e&&typeof e=="object"||typeof e=="function")for(let $ of M(e))!O.call(_,$)&&$!==n&&c(_,$,{get:()=>e[$],enumerable:!(d=S(e,$))||d.enumerable});return _},t=(_,e,n)=>(n=_!=null?g(j(_)):{},r(e||!_||!_.__esModule?c(n,"default",{value:_,enumerable:!0}):n,_)),a=_=>r(c({},"__esModule",{value:!0}),_),u={};h(u,{default:()=>b}),x.exports=a(u);var y=m(7),s=t(m(3316)),b=P(i({},(0,y.generateSimpleMutations)(s.default)),{applyTranslationKey:(_,e)=>{e&&e.indexOf("translate#")>-1&&(_.name=e.substr(10))}})},3406:function(x,A,m){var g=Object.create,c=Object.defineProperty,I=Object.defineProperties,S=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,j=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(o,l,f)=>l in o?c(o,l,{enumerable:!0,configurable:!0,writable:!0,value:f}):o[l]=f,i=(o,l)=>{for(var f in l||(l={}))O.call(l,f)&&v(o,f,l[f]);if(w)for(var f of w(l))E.call(l,f)&&v(o,f,l[f]);return o},P=(o,l)=>I(o,N(l)),h=(o,l)=>{for(var f in l)c(o,f,{get:l[f],enumerable:!0})},r=(o,l,f,T)=>{if(l&&typeof l=="object"||typeof l=="function")for(let C of M(l))!O.call(o,C)&&C!==f&&c(o,C,{get:()=>l[C],enumerable:!(T=S(l,C))||T.enumerable});return o},t=(o,l,f)=>(f=o!=null?g(j(o)):{},r(l||!o||!o.__esModule?c(f,"default",{value:o,enumerable:!0}):f,o)),a=o=>r(c({},"__esModule",{value:!0}),o),u={};h(u,{default:()=>$}),x.exports=a(u);var y=t(m(3921)),s=t(m(3922)),p=m(3342);function b({state:o,commit:l},{chapterNumber:f,stepNumber:T,htmlContent:C,htmlContentImages:V,previousHtmlReference:J}){const D=i({},o.htmlContents),R=i({},o.htmlContentsImages),W=(0,p.getHTMLContentReference)(f,T);return J&&(delete D[J],delete R[J]),l("setHtmlContents",P(i({},D),{[W]:C})),l("setHtmlContentsImages",P(i({},R),{[W]:V})),`${W}.html`}function _({state:o,commit:l},f){const T=o.storyConf.chapters,C=P(i({},o.storyConf),{chapters:[...T,f]});l("setStoryConf",C)}function e({state:o,commit:l},{previousStepReference:f,step:T}){const C=o.storyConf.steps.filter(({associatedChapter:D,stepNumber:R})=>!f||f!==(0,p.getStepReference)(D,R)),V=[...C,T].sort((D,R)=>(D.associatedChapter>R.associatedChapter)-(D.associatedChapter<R.associatedChapter)||(D.stepNumber>R.stepNumber)-(D.stepNumber<R.stepNumber)),J=P(i({},o.storyConf),{steps:V});l("setStoryConf",J)}function n({state:o,commit:l},{associatedChapter:f,stepNumber:T}){const C=o.storyConf.steps.filter(D=>f!==D.associatedChapter||T!==D.stepNumber),V=!C.some(D=>D.associatedChapter===f),J=V?o.storyConf.chapters.filter(({chapterNumber:D})=>D!==f):o.storyConf.chapters;l("setStoryConf",P(i({},o.storyConf),{chapters:J,steps:C}))}function d({state:o}){const l=new y.default,f=Object.entries(o.htmlContents),T=i({},o.storyConf);if(f.length){const C="story";l.folder(C),T.htmlFolder=C;for(const V of f){const J=V[0],D=o.htmlContentsImages[J]||[],R=`${C}/images`,[W,Y]=J.split(".").map(Number),z=`${C}/${J}.html`;let H=V[1];D.length&&l.folder(R);for(const[F,L]of D.entries()){const G=F+1,U=`${C}/images/${J}_${G}.${L.fileExtension}`;l.file(U,L.dataUrl.replace(/data:.+?base64,/,""),{base64:!0}),H=H.replace(L.dataUrl,`assets/${U}`)}T.steps=T.steps.map(F=>F.associatedChapter!==W||F.stepNumber!==Y?F:{step:F,htmlFile:z}),l.file(z,H)}}l.file("story.json",JSON.stringify(T)),l.generateAsync({type:"blob"}).then(C=>{s.default.saveAs(C,"story.zip")})}var $={saveHtmlContent:b,addStoryChapter:_,saveStoryStep:e,deleteStoryStep:n,downloadStoryFiles:d}},3629:function(x,A,m){var g=Object.create,c=Object.defineProperty,I=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,N=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,w=(y,s)=>{for(var p in s)c(y,p,{get:s[p],enumerable:!0})},j=(y,s,p,b)=>{if(s&&typeof s=="object"||typeof s=="function")for(let _ of S(s))!M.call(y,_)&&_!==p&&c(y,_,{get:()=>s[_],enumerable:!(b=I(s,_))||b.enumerable});return y},O=(y,s,p)=>(p=y!=null?g(N(y)):{},j(s||!y||!y.__esModule?c(p,"default",{value:y,enumerable:!0}):p,y)),E=y=>j(c({},"__esModule",{value:!0}),y),v={};w(v,{default:()=>u}),x.exports=E(v);var i=O(m(1906)),P=O(m(3784)),h=O(m(3343)),r=O(m(3321)),t=O(m(3344)),a=O(m(3316)),u=(0,P.default)([i.default,{namespaced:!0,state:a.default,actions:h.default,mutations:t.default,getters:r.default}])},3784:function(x,A,m){var g=Object.defineProperty,c=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,w=(r,t,a)=>t in r?g(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,j=(r,t)=>{for(var a in t||(t={}))N.call(t,a)&&w(r,a,t[a]);if(S)for(var a of S(t))M.call(t,a)&&w(r,a,t[a]);return r},O=(r,t)=>{for(var a in t)g(r,a,{get:t[a],enumerable:!0})},E=(r,t,a,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let y of I(t))!N.call(r,y)&&y!==a&&g(r,y,{get:()=>t[y],enumerable:!(u=c(t,y))||u.enumerable});return r},v=r=>E(g({},"__esModule",{value:!0}),r),i={};O(i,{default:()=>h}),x.exports=v(i);function P(r,t){return t.map(a=>a[r]).reduce((a,u)=>j(j({},a),u),{})}function h(r){return{namespaced:!0,state:P("state",r),getters:P("getters",r),mutations:P("mutations",r),actions:P("actions",r)}}}}]);
