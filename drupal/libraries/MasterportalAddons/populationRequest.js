(window.webpackJsonp=window.webpackJsonp||[]).push([[80,179,180,454,455,456,457],{234:function(g,v,o){var i=Object.create,d=Object.defineProperty,y=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,x=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,R=(c,h)=>{for(var M in h)d(c,M,{get:h[M],enumerable:!0})},P=(c,h,M,a)=>{if(h&&typeof h=="object"||typeof h=="function")for(let n of O(h))!S.call(c,n)&&n!==M&&d(c,n,{get:()=>h[n],enumerable:!(a=y(h,n))||a.enumerable});return c},b=(c,h,M)=>(M=c!=null?i(x(c)):{},P(h||!c||!c.__esModule?d(M,"default",{value:c,enumerable:!0}):M,c)),w=c=>P(d({},"__esModule",{value:!0}),c),_={};R(_,{default:()=>f}),g.exports=w(_);var e=b(o(5149)),s=b(o(3667)),p=b(o(3668)),m=b(o(3669)),f={component:e.default,store:s.default,locales:{de:p.default,en:m.default}}},3350:function(g,v,o){var i=Object.defineProperty,d=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,x=(_,e)=>{for(var s in e)i(_,s,{get:e[s],enumerable:!0})},S=(_,e,s,p)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of y(e))!O.call(_,m)&&m!==s&&i(_,m,{get:()=>e[m],enumerable:!(p=d(e,m))||p.enumerable});return _},R=_=>S(i({},"__esModule",{value:!0}),_),P={};x(P,{default:()=>w}),g.exports=R(P);var w={active:!1,id:"populationRequest",name:"translate#additional:modules.tools.populationRequest.title",icon:"bi-person-bounding-box",renderToWindow:!0,resizableWindow:!0,isVisibleInMenu:!0,deactivateGFI:!0,rasterActive:!1,alkisAdressesActive:!1,populationReqServiceId:2,wpsId:"1001",fmwProcess:"einwohner_ermitteln.fmw",geometry:void 0}},3465:function(g,v,o){var i=Object.create,d=Object.defineProperty,y=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,S=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,b=(a,n,u)=>n in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[n]=u,w=(a,n)=>{for(var u in n||(n={}))R.call(n,u)&&b(a,u,n[u]);if(x)for(var u of x(n))P.call(n,u)&&b(a,u,n[u]);return a},_=(a,n)=>{for(var u in n)d(a,u,{get:n[u],enumerable:!0})},e=(a,n,u,A)=>{if(n&&typeof n=="object"||typeof n=="function")for(let j of O(n))!R.call(a,j)&&j!==u&&d(a,j,{get:()=>n[j],enumerable:!(A=y(n,j))||A.enumerable});return a},s=(a,n,u)=>(u=a!=null?i(S(a)):{},e(n||!a||!a.__esModule?d(u,"default",{value:a,enumerable:!0}):u,a)),p=a=>e(d({},"__esModule",{value:!0}),a),m={};_(m,{default:()=>M}),g.exports=p(m);var f=o(7),c=s(o(3350)),M=w({},(0,f.generateSimpleGetters)(c.default))},3466:function(g,v,o){var i=Object.create,d=Object.defineProperty,y=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,S=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,b=(a,n,u)=>n in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[n]=u,w=(a,n)=>{for(var u in n||(n={}))R.call(n,u)&&b(a,u,n[u]);if(x)for(var u of x(n))P.call(n,u)&&b(a,u,n[u]);return a},_=(a,n)=>{for(var u in n)d(a,u,{get:n[u],enumerable:!0})},e=(a,n,u,A)=>{if(n&&typeof n=="object"||typeof n=="function")for(let j of O(n))!R.call(a,j)&&j!==u&&d(a,j,{get:()=>n[j],enumerable:!(A=y(n,j))||A.enumerable});return a},s=(a,n,u)=>(u=a!=null?i(S(a)):{},e(n||!a||!a.__esModule?d(u,"default",{value:a,enumerable:!0}):u,a)),p=a=>e(d({},"__esModule",{value:!0}),a),m={};_(m,{default:()=>M}),g.exports=p(m);var f=o(7),c=s(o(3350)),M=w({},(0,f.generateSimpleMutations)(c.default))},3667:function(g,v,o){var i=Object.create,d=Object.defineProperty,y=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,S=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,b=(a,n,u)=>n in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[n]=u,w=(a,n)=>{for(var u in n||(n={}))R.call(n,u)&&b(a,u,n[u]);if(x)for(var u of x(n))P.call(n,u)&&b(a,u,n[u]);return a},_=(a,n)=>{for(var u in n)d(a,u,{get:n[u],enumerable:!0})},e=(a,n,u,A)=>{if(n&&typeof n=="object"||typeof n=="function")for(let j of O(n))!R.call(a,j)&&j!==u&&d(a,j,{get:()=>n[j],enumerable:!(A=y(n,j))||A.enumerable});return a},s=(a,n,u)=>(u=a!=null?i(S(a)):{},e(n||!a||!a.__esModule?d(u,"default",{value:a,enumerable:!0}):u,a)),p=a=>e(d({},"__esModule",{value:!0}),a),m={};_(m,{default:()=>M}),g.exports=p(m);var f=s(o(3465)),c=s(o(3466)),h=s(o(3350)),M={namespaced:!0,state:w({},h.default),mutations:c.default,getters:f.default}},3668:function(g){g.exports=JSON.parse('{"modules":{"tools":{"populationRequest":{"title":"Einwohneranzahl abfragen","switchOffFilter":"Filter ausschalten","select":{"info":"Die Abfrage der Einwohnerzahl ist sowohl f\xFCr die Freie Hansestadt Hamburg als auch f\xFCr die Metropolregion Hamburg m\xF6glich.","action":"Auswahl des Gebietes durch","showRasterLayer":"Raster Layer anzeigen (ab 1: 100.000)","showAlkisAdresses":"ALKIS Adressen anzeigen (ab 1: 10.000)"},"result":{"confidentialityHint":"Unter Ber\xFCcksichtigung der Geheimhaltung wurde folgender Wert berechnet","confidentialityHintSmallValues":"Aus Datenschutzgr\xFCnden werden kleine Fallzahlen unter 3 ver\xE4ndert.","populationFHH":"Einwohnerzahl in Hamburg","populationMRH":"Einwohnerzahl in der Metropolregion ohne Hamburg","areaSize":"Gr\xF6\xDFe der abgefragten Fl\xE4che","hint":"Hinweis","dataSourceFHHKey":"Datenquelle Hamburg","dataSourceFHHValue":"Einwohner mit Hauptwohnsitz, Melderegister","dataSourceFHHLinktext":"Weitere Informationen","sourceAreaOutside":"Teile des Suchgebiets liegen au\xDFerhalb der Grenzen der Metropolregion Hamburg und wurden f\xFCr die Ermittlung der Einwohnerzahl nicht ber\xFCcksichtigt.","dataSourceMRHKey":"Datenquelle Metropolregion ohne Hamburg","dataSourceMRHValue":"Bev\xF6lkerung insgesamt im 100 Meter-Gitter.","dataSourceMRHLinktext":"Weitere Informationen"},"errors":{"errorCategory":"Fehler","requestException":"Datenabfrage fehlgeschlagen. ","layerIdCantBeLoaded":"Der Layer mit der ID: {{layerId}} konnte nicht geladen werden, da dieser im Portal nicht zur Verf\xFCgung steht!","reduceScaleForRaster":"Das Raster Layer kann erst ab 1: 100.000 eingeblendet werden.","reduceScaleForAlkisAdresses":"Das ALKIS Adressen Layer kann erst ab 1: 10.000 eingeblendet werden."}}}}}')},3669:function(g){g.exports=JSON.parse(`{"modules":{"tools":{"populationRequest":{"title":"Population figures","switchOffFilter":"Switch off filter","select":{"info":"You can query the number of inhabitants for both the Free Hanseatic City of Hamburg and the Hamburg metropolitan region.","action":"Selection of area by","showRasterLayer":"Display Raster Layer (from 1: 100,000)","showAlkisAdresses":"Show ALKIS addresses (from 1: 10,000)"},"result":{"confidentialityHint":"Taking confidentiality into account, the following value was calculated","confidentialityHintSmallValues":"For data protection reasons, small numbers of cases under 3 are not changed.","populationFHH":"Population in Hamburg","populationMRH":"Population in the metropolitan region excluding Hamburg","areaSize":"Size of the queried area","hint":"Hint","dataSourceFHHKey":"Data source Hamburg","dataSourceFHHValue":"Inhabitants with main residence, population register","dataSourceFHHLinktext":"more information","sourceAreaOutside":"Parts of the search area lie outside the boundaries of the Hamburg metropolitan region and were not taken into account for the calculation of the number of inhabitants.","dataSourceMRHKey":"Data source Metropolitan region without Hamburg","dataSourceMRHValue":"Total population in 100 metre grid.","dataSourceMRHLinktext":"more information"},"errors":{"errorCategory":"Error","requestException":"Request failed. ","layerIdCantBeLoaded":"Layer with ID: {{layerId}} couldn't be loaded, since it's not available in the portal!","reduceScaleForRaster":"The Raster Layer can only be displayed from 1: 100.000.","reduceScaleForAlkisAdresses":"The ALKIS Adresses Layer can only be displayed from 1: 10.000."}}}}}`)},3806:function(g,v,o){"use strict";o.r(v);var i=o(3807),d=o.n(i);for(var y in i)["default"].indexOf(y)<0&&function(O){o.d(v,O,function(){return i[O]})}(y);v.default=d.a},3807:function(g,v,o){var i=Object.defineProperty,d=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,x=(w,_)=>{for(var e in _)i(w,e,{get:_[e],enumerable:!0})},S=(w,_,e,s)=>{if(_&&typeof _=="object"||typeof _=="function")for(let p of y(_))!O.call(w,p)&&p!==e&&i(w,p,{get:()=>_[p],enumerable:!(s=d(_,p))||s.enumerable});return w},R=w=>S(i({},"__esModule",{value:!0}),w),P={};x(P,{default:()=>b}),g.exports=R(P);var b={name:"DropdownSimple",props:{value:{type:null,required:!0},options:{type:Object,required:!0},focusOnCreation:{type:Boolean,default:!1,required:!1},label:{type:String,required:!0}},data(){return{selectedOption:null}},watch:{value:function(w){this.selectedOption=w}},mounted(){this.selectedOption=this.value},created(){this.focusOnCreation&&this.$nextTick(()=>{this.$refs["select-option"]&&this.$refs["select-option"].focus()})},methods:{changedValue(w){this.$emit("input",w.target.value)}}}},3815:function(g,v,o){var i=Object.create,d=Object.defineProperty,y=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,x=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,R=(f,c)=>{for(var h in c)d(f,h,{get:c[h],enumerable:!0})},P=(f,c,h,M)=>{if(c&&typeof c=="object"||typeof c=="function")for(let a of O(c))!S.call(f,a)&&a!==h&&d(f,a,{get:()=>c[a],enumerable:!(M=y(c,a))||M.enumerable});return f},b=(f,c,h)=>(h=f!=null?i(x(f)):{},P(c||!f||!f.__esModule?d(h,"default",{value:f,enumerable:!0}):h,f)),w=f=>P(d({},"__esModule",{value:!0}),f),_={};R(_,{default:()=>m}),g.exports=w(_);var e=b(o(20)),s=b(o(1087)),p=b(o(8)),m={sendRequest:function(f,c,h,M){(0,e.default)({method:"post",url:f,data:c,headers:{"Content-Type":"text/xml"},timeout:M}).then(a=>this.handleResponse(a,h))},handleResponse:function(f,c){let h;f.status===200&&(h=this.parseDataString(f.data)),c(h,f.status)},parseDataString:function(f){const c=new DOMParser().parseFromString(f,"text/xml");return(0,s.default)(c,!1)},buildXML:function(f,c,h,M={}){let a=this.setXMLElement(c,"</ows:Identifier>",f);return Object.entries(M).forEach(n=>{const u=n[1],A=n[0],j=Object.prototype.hasOwnProperty.call(u,"dataType")?u.dataType:void 0,L=Object.prototype.hasOwnProperty.call(u,"value")?u.value:u;let E;E=this.setXMLElement(h,"</ows:Identifier>",A),E=this.setXMLElement(E,"</wps:LiteralData>",L,j),a=this.setXMLElement(a,"</wps:DataInputs>",E)}),a},setXMLElement:function(f,c,h,M){let a=f===void 0?"":f;return M!==void 0&&(a=a.toString().replace("<wps:LiteralData>","<wps:LiteralData dataType='"+M+"'>")),f!==void 0&&c!==void 0&&h!==void 0&&(a=a.toString().replace(c.toString(),h.toString()+c.toString())),a},wpsRequest:function(f,c,h,M,a){var n;const u='<wps:Execute xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ows="http://www.opengis.net/ows/1.1" service="WPS" version="1.0.0" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsExecute_request.xsd"><ows:Identifier></ows:Identifier><wps:DataInputs></wps:DataInputs></wps:Execute>',A="<wps:Input><ows:Identifier></ows:Identifier><wps:Data><wps:LiteralData></wps:LiteralData></wps:Data></wps:Input>",j=this.buildXML(c,u,A,h),L=(n=p.default.getters.getRestServiceById(f))==null?void 0:n.url;this.sendRequest(L,j,M,a)}}},3826:function(g,v,o){var i=Object.defineProperty,d=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,x=(_,e)=>{for(var s in e)i(_,s,{get:e[s],enumerable:!0})},S=(_,e,s,p)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of y(e))!O.call(_,m)&&m!==s&&i(_,m,{get:()=>e[m],enumerable:!(p=d(e,m))||p.enumerable});return _},R=_=>S(i({},"__esModule",{value:!0}),_),P={};x(P,{render:()=>b,staticRenderFns:()=>w}),g.exports=R(P);var b=function(){var e=this,s=e._self._c;return s("div",{staticClass:"form-group form-group-sm row"},[s("label",{staticClass:"dropdown col-sm-5 col-form-label",attrs:{for:"select"}},[e._v(`
        `+e._s(e.$t(e.label))+`
    `)]),e._v(" "),s("div",{staticClass:"col-sm-7"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],ref:"select-option",staticClass:"form-select dropdown",on:{input:e.changedValue,change:function(p){var m=Array.prototype.filter.call(p.target.options,function(f){return f.selected}).map(function(f){var c="_value"in f?f._value:f.value;return c});e.selectedOption=p.target.multiple?m:m[0]}}},e._l(e.options,function(p,m){return s("option",{key:m,domProps:{value:m}},[e._v(`
                `+e._s(p)+`
            `)])}),0)])])},w=[];b._withStripped=!0},3871:function(g,v,o){"use strict";o.r(v);var i=o(3872),d=o.n(i);for(var y in i)["default"].indexOf(y)<0&&function(O){o.d(v,O,function(){return i[O]})}(y);v.default=d.a},3872:function(g,v,o){(function(i){var d=Object.create,y=Object.defineProperty,O=Object.defineProperties,x=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,e=(t,r,l)=>r in t?y(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,s=(t,r)=>{for(var l in r||(r={}))w.call(r,l)&&e(t,l,r[l]);if(P)for(var l of P(r))_.call(r,l)&&e(t,l,r[l]);return t},p=(t,r)=>O(t,S(r)),m=(t,r)=>{for(var l in r)y(t,l,{get:r[l],enumerable:!0})},f=(t,r,l,D)=>{if(r&&typeof r=="object"||typeof r=="function")for(let H of R(r))!w.call(t,H)&&H!==l&&y(t,H,{get:()=>r[H],enumerable:!(D=x(r,H))||D.enumerable});return t},c=(t,r,l)=>(l=t!=null?d(b(t)):{},f(r||!t||!t.__esModule?y(l,"default",{value:t,enumerable:!0}):l,t)),h=t=>f(y({},"__esModule",{value:!0}),t),M=(t,r,l)=>new Promise((D,H)=>{var q=C=>{try{N(l.next(C))}catch(V){H(V)}},k=C=>{try{N(l.throw(C))}catch(V){H(V)}},N=C=>C.done?D(C.value):Promise.resolve(C.value).then(q,k);N((l=l.apply(t,r)).next())}),a={};m(a,{default:()=>T}),g.exports=h(a);var n=c(o(3901)),u=o(9),A=c(o(1909)),j=c(o(1910)),L=c(o(1911)),E=c(o(761)),I=c(o(46)),B=c(o(42)),F=o(130),T={name:"GraphicalSelect",components:{Dropdown:n.default},props:{selectElement:{type:String,required:!1,default:"Dropdown"},selectedOption:{type:String,required:!1,default:"Box"},options:{type:Object,required:!1,default:void 0},focusOnCreation:{type:Boolean,default:!1,required:!1},label:{type:String,required:!0}},data(){return{selectedOptionData:this.selectedOption}},computed:p(s({},(0,u.mapGetters)("GraphicalSelect",Object.keys(A.default))),{optionsValue:function(){return this.options?this.options:{Box:this.$t("common:snippets.graphicalSelect.selectBySquare"),Circle:this.$t("common:snippets.graphicalSelect.selectByCircle"),Polygon:this.$t("common:snippets.graphicalSelect.selectByPolygon")}}}),watch:{selectedOptionData:function(){this.createDrawInteraction()}},created(){this.$parent.$parent.$on("close",()=>{this.setActive(!1),this.resetView()})},mounted(){this.selectedOptionData=this.selectedOption,this.createDomOverlay({id:"circle-overlay",overlay:this.circleOverlay}),this.createDomOverlay({id:"tooltip-overlay",overlay:this.tooltipOverlay}),this.createDrawInteraction(),this.addLayerOnTop(this.layer),this.checkOptions(),this.setDefaultSelection(this.selectedOptionData)},methods:p(s(s(s(s({},(0,u.mapMutations)("GraphicalSelect",Object.keys(j.default))),(0,u.mapActions)("GraphicalSelect",Object.keys(L.default))),(0,u.mapActions)("Maps",["addLayerOnTop","addInteraction","removeInteraction","registerListener"])),(0,u.mapActions)("Alerting",["addSingleAlert"])),{setStatus:function(t){t?this.createDrawInteraction():(typeof this.drawInteraction=="object"&&this.drawInteraction.setActive(!1),mapCollection.getMap("2D").removeOverlay(this.circleOverlay),mapCollection.getMap("2D").removeOverlay(this.tooltipOverlay))},resetGeographicSelection:function(){this.selectedOptionData=Object.keys(this.optionsValue)[0]},checkOptions:function(){this.geographicValues.every(t=>Object.keys(this.optionsValue).includes(t))||this.addSingleAlert({content:i.t("common:snippets.graphicalSelect.alert.notSupportedOption")+this.geographicValues}),this.geographicValues.includes(this.selectedOption)||this.addSingleAlert({content:i.t("common:snippets.graphicalSelect.alert.notSupportedSelection")+this.geographicValues}),this.selectionElements.includes(this.selectElement)||this.addSingleAlert({content:i.t("common:snippets.graphicalSelect.alert.notSupportedElement")+this.selectionElements})},resetView:function(){return M(this,null,function*(){this.layer.getSource().clear(),this.removeInteraction(this.draw),this.circleOverlay.element.innerHTML="",mapCollection.getMap("2D").removeOverlay(this.circleOverlay),mapCollection.getMap("2D").removeOverlay(this.tooltipOverlay)})},roundRadius:function(t){return t>500?Math.round(t/1e3*100)/100+" km":Math.round(t*10)/10+" m"},showOverlayOnSketch:function(t,r){const l=this.circleOverlay;l.element.innerHTML=this.roundRadius(t),l.setPosition(r)},precisionRound:function(t,r){const l=Math.pow(10,r);return Math.round(t*l)/l},snapRadiusToInterval:function(t,r){let l=Math.sqrt(Math.pow(t[1][0]-t[0][0],2)+Math.pow(t[1][1]-t[0][1],2));l=this.precisionRound(l,-1);const D=r||new F.Circle(t[0]);return D.setRadius(l),this.showOverlayOnSketch(l,t[1]),D},createDrawInteraction:function(){const t=(0,E.createBox)(),r=this.selectedOptionData;this.layer?this.resetView(this.layer):this.layer=new I.default({id:"geometry_selection_layer",name:"Geometry-Selection",source:new B.default,alwaysOnTop:!0}),this.draw=new E.default({source:this.layer.getSource(),type:r==="Box"?"Circle":r,geometryFunction:r==="Polygon"?void 0:(l,D)=>r==="Box"?t(l,D):this.snapRadiusToInterval(l,D)}),this.addInteraction(this.draw),this.setCurrentValue(r),this.toggleOverlay({type:r,overlayCircle:this.circleOverlay,overlayTool:this.tooltipOverlay}),this.setDrawInteractionListener({interaction:this.draw,layer:this.layer,vm:this}),this.setDrawInteraction(this.draw),this.registerListener({type:"pointermove",listener:this.showTooltipOverlay})}})}}).call(this,o(5))},3901:function(g,v,o){"use strict";o.r(v);var i=o(3902),d=o(3806);for(var y in d)["default"].indexOf(y)<0&&function(S){o.d(v,S,function(){return d[S]})}(y);var O=o(0),x=Object(O.a)(d.default,i.render,i.staticRenderFns,!1,null,null,null);v.default=x.exports},3902:function(g,v,o){"use strict";var i=o(3826),d=o.n(i);o.o(i,"render")&&o.d(v,"render",function(){return i.render}),o.o(i,"staticRenderFns")&&o.d(v,"staticRenderFns",function(){return i.staticRenderFns})},3903:function(g,v,o){var i=Object.defineProperty,d=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,x=(_,e)=>{for(var s in e)i(_,s,{get:e[s],enumerable:!0})},S=(_,e,s,p)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of y(e))!O.call(_,m)&&m!==s&&i(_,m,{get:()=>e[m],enumerable:!(p=d(e,m))||p.enumerable});return _},R=_=>S(i({},"__esModule",{value:!0}),_),P={};x(P,{render:()=>b,staticRenderFns:()=>w}),g.exports=R(P);var b=function(){var e=this,s=e._self._c;return s("form",[e.selectElement==="Dropdown"?s("Dropdown",{attrs:{options:e.optionsValue,"focus-on-creation":e.focusOnCreation,label:e.label},model:{value:e.selectedOptionData,callback:function(p){e.selectedOptionData=p},expression:"selectedOptionData"}}):e._e()],1)},w=[];b._withStripped=!0},4184:function(g,v,o){"use strict";o.r(v);var i=o(4185),d=o.n(i);for(var y in i)["default"].indexOf(y)<0&&function(O){o.d(v,O,function(){return i[O]})}(y);v.default=d.a},4185:function(g,v,o){(function(i,d){var y=Object.create,O=Object.defineProperty,x=Object.defineProperties,S=Object.getOwnPropertyDescriptor,R=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,w=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable,s=(t,r,l)=>r in t?O(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l,p=(t,r)=>{for(var l in r||(r={}))_.call(r,l)&&s(t,l,r[l]);if(b)for(var l of b(r))e.call(r,l)&&s(t,l,r[l]);return t},m=(t,r)=>x(t,R(r)),f=(t,r)=>{for(var l in r)O(t,l,{get:r[l],enumerable:!0})},c=(t,r,l,D)=>{if(r&&typeof r=="object"||typeof r=="function")for(let H of P(r))!_.call(t,H)&&H!==l&&O(t,H,{get:()=>r[H],enumerable:!(D=S(r,H))||D.enumerable});return t},h=(t,r,l)=>(l=t!=null?y(w(t)):{},c(r||!t||!t.__esModule?O(l,"default",{value:t,enumerable:!0}):l,t)),M=t=>c(O({},"__esModule",{value:!0}),t),a={};f(a,{default:()=>T}),g.exports=M(a);var n=h(o(57)),u=o(9),A=h(o(3465)),j=h(o(3466)),L=h(o(4186)),E=h(o(1916)),I=h(o(266)),B=h(o(3815)),F=h(o(82)),T={name:"PopulationRequest",components:{ToolTemplate:n.default,GraphicalSelect:L.default,ToggleCheckbox:E.default},data(){return{metaDataLink:void 0,mrhId:"46969C7D-FAA8-420A-81A0-8352ECCFF526",fhhId:"B3FD9BD5-F614-433F-A762-E14003C300BF",rasterLayerId:"13023",alkisAdressLayerId:"9726",sourceFHH:"nein",sourceMRH:"nein",inhabitantsFHH:"-1",inhabitantsFHHNum:-1,inhabitantsMRH:"-1",inhabitantsMRHNum:-1,searchArea:0}},computed:m(p(p({},(0,u.mapGetters)("Tools/PopulationRequest",Object.keys(A.default))),(0,u.mapGetters)(["uiStyle"])),{isDefaultStyle(){return this.uiStyle!=="SIMPLE"&&this.uiStyle!=="TABLE"},isRasterVisibleInMap:function(){const t=i.request("ModelList","getModelByAttributes",{id:this.rasterLayerId});return t!==void 0?t.get("isVisibleInMap"):!1},isAlkisAdressesVisibleInMap:function(){const t=i.request("ModelList","getModelByAttributes",{id:this.alkisAdressLayerId});return t!==void 0?t.get("isVisibleInMap"):!1},showFHHHintAndLinktext:function(){return this.inhabitantsFHHNum>-1&&(this.sourceFHH==="ja"||this.sourceFHH==="tlw")},showMRHHintAndLinktext:function(){return this.inhabitantsMRHNum>-1&&(this.sourceMRH==="ja"||this.sourceMRH==="tlw")},showMRHSourceAreaOutsideHint:function(){return this.sourceMRH==="tlw"&&this.sourceFHH==="nein"}}),watch:{active(t){t?this.$nextTick(()=>{this.$refs.graphicalSelection&&(this.$refs.graphicalSelection.resetView(),this.$refs.graphicalSelection.setStatus(t),this.$refs.graphicalSelection.resetGeographicSelection())}):(this.$refs.graphicalSelection&&(this.$refs.graphicalSelection.setStatus(t),this.$refs.graphicalSelection.resetView(),this.$refs.graphicalSelection.resetGeographicSelection()),d("#tooltip-overlay").remove())},geometry(t){this.makeRequest(t)}},created(){this.$on("close",this.close),this.$on("onDrawEnd",function(r){this.setGeometry(r)});const t=i.request("RestReader","getServiceById",this.populationReqServiceId);t!==void 0&&(this.metaDataLink=t.get("url"))},methods:m(p(p({},(0,u.mapMutations)("Tools/PopulationRequest",Object.keys(j.default))),(0,u.mapActions)("Alerting",["addSingleAlert"])),{makeRequest:function(t){this.inhabitantsFHHNum=-1,this.inhabitantsMRHNum=-1,this.sourceFHH="nein",this.sourceMRH="nein",this.searcharea=0,F.default.show(),B.default.wpsRequest(this.wpsId,this.fmwProcess,{such_flaeche:JSON.stringify(t)},this.handleResponse.bind(this))},resetView:function(){this.$refs.graphicalSelection.resetView()},handleResponse:function(t,r){let l=null;l=t.ExecuteResponse.ProcessOutputs.Output.Data.ComplexData.einwohner,r===200?l.ErrorOccured==="yes"?this.handleWPSError(l):this.handleSuccess(l):this.resetView(),F.default.hide()},handleWPSError:function(t){this.addSingleAlert({category:this.translate("additional:modules.tools.populationRequest.errors.errorCategory"),content:this.translate("additional:modules.tools.populationRequest.errors.requestException")+JSON.stringify(t.ergebnis),displayClass:"error"})},handleSuccess:function(t){let r=null;try{r=JSON.parse(t?.ergebnis),r?.einwohner_fhh?(this.inhabitantsFHHNum=r.einwohner_fhh,this.inhabitantsFHH=(0,I.default)(r.einwohner_fhh)):this.inhabitantsFHHNum=-1,r?.einwohner_mrh?(this.inhabitantsMRHNum=r.einwohner_mrh,this.inhabitantsMRH=(0,I.default)(r.einwohner_mrh)):this.inhabitantsMRHNum=-1,r?.quelle_fhh?this.sourceFHH=r.quelle_fhh:this.sourceFHH="nein",r?.quelle_mrh?this.sourceMRH=r.quelle_mrh:this.sourceMRH="nein",r?.suchflaeche?this.searchArea=this.chooseUnitAndThousandsSeparator(r.suchflaeche):this.searchArea=0}catch(l){this.addSingleAlert({category:this.translate("additional:modules.tools.populationRequest.errors.errorCategory"),content:this.translate("additional:modules.tools.populationRequest.errors.requestException")+JSON.stringify(t),displayClass:"error"}),this.resetView(),(console.error||console.warn).call(console,l.stack||l)}},chooseUnitAndThousandsSeparator:function(t,r){let l=null,D=null;return t<25e4?D=(0,I.default)(t.toFixed(r))+" m\xB2":t<1e7?(l=t/1e4,D=(0,I.default)(l.toFixed(r))+" ha"):(l=t/1e6,D=(0,I.default)(l.toFixed(r))+" km\xB2"),D},addModelsByAttributesToModelList:function(t){const r=i.request("ModelList","getModelsByAttributes",{id:t});(r===void 0||r.length===0)&&i.trigger("ModelList","addModelsByAttributes",{id:t})},checkIsModelLoaded:function(t,r,l){const D=i.request("ModelList","getModelsByAttributes",{id:t});(D===void 0||D.length===0)&&(r&&l.setActive(!1),this.addSingleAlert({content:this.translate("additional:modules.tools.populationRequest.errors.layerIdCantBeLoaded",{layerId:t})}))},setModelAttributesByIdToModelList:function(t,r){i.trigger("ModelList","setModelAttributesById",t,{isSelected:r,isVisibleInMap:r})},triggerRaster(t){const r=this.$refs.rasterCheckBox,l=this.rasterLayerId;if(r!==void 0&&r.setActive(t),t&&this.$store.state.Maps.scale>1e5){r!==void 0&&r.setActive(!1),this.addSingleAlert({content:this.translate("additional:modules.tools.populationRequest.errors.reduceScaleForRaster")});return}this.setRasterActive(t),this.addModelsByAttributesToModelList(l),t&&this.checkIsModelLoaded(l,t,r),this.setModelAttributesByIdToModelList(l,t)},triggerAlkisAdresses(t){const r=this.$refs.alkisAdressesCheckBox,l=this.alkisAdressLayerId;if(r!==void 0&&r.setActive(t),t&&this.$store.state.Maps.scale>1e4){r!==void 0&&r.setActive(!1),this.addSingleAlert({content:this.translate("additional:modules.tools.populationRequest.errors.reduceScaleForAlkisAdresses")});return}this.setAlkisAdressesActive(t),this.addModelsByAttributesToModelList(l),t&&this.checkIsModelLoaded(l,t,r),this.setModelAttributesByIdToModelList(l,t)},close(){this.setActive(!1);const t=i.request("ModelList","getModelByAttributes",{id:"populationRequest"});t&&t.set("isActive",!1)},translate(t,r=null){return t==="additional:"+this.$t(t)&&console.warn("the key "+JSON.stringify(t)+" is unknown to the additional translation"),this.$t(t,r)}})}}).call(this,o(2),o(13))},4186:function(g,v,o){"use strict";o.r(v);var i=o(4187),d=o(3871);for(var y in d)["default"].indexOf(y)<0&&function(S){o.d(v,S,function(){return d[S]})}(y);var O=o(0),x=Object(O.a)(d.default,i.render,i.staticRenderFns,!1,null,"60ba3137",null);v.default=x.exports},4187:function(g,v,o){"use strict";var i=o(3903),d=o.n(i);o.o(i,"render")&&o.d(v,"render",function(){return i.render}),o.o(i,"staticRenderFns")&&o.d(v,"staticRenderFns",function(){return i.staticRenderFns})},4533:function(g,v,o){var i=Object.defineProperty,d=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,x=(_,e)=>{for(var s in e)i(_,s,{get:e[s],enumerable:!0})},S=(_,e,s,p)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of y(e))!O.call(_,m)&&m!==s&&i(_,m,{get:()=>e[m],enumerable:!(p=d(e,m))||p.enumerable});return _},R=_=>S(i({},"__esModule",{value:!0}),_),P={};x(P,{render:()=>b,staticRenderFns:()=>w}),g.exports=R(P);var b=function(){var e=this,s=e._self._c;return s("ToolTemplate",{staticClass:"population-request",attrs:{title:e.translate(e.name),icon:e.icon,active:e.active,"render-to-window":e.renderToWindow,"resizable-window":e.resizableWindow,"deactivate-gfi":e.deactivateGFI},scopedSlots:e._u([e.active?{key:"toolBody",fn:function(){return[s("form",{staticClass:"form-horizontal"},[s("div",{staticClass:"mb-3"},[e._v(`
                `+e._s(e.translate("additional:modules.tools.populationRequest.select.info"))+`
            `)]),e._v(" "),s("div",{staticClass:"graphicalSelectionContainer row"},[s("div",{staticClass:"dropdown"},[s("GraphicalSelect",{ref:"graphicalSelection",attrs:{id:"graphicalSelection","select-element":"Dropdown","focus-on-creation":!0,label:"additional:modules.tools.populationRequest.select.action"}})],1)]),e._v(" "),s("div",[e.inhabitantsFHHNum>-1||e.inhabitantsMRHNum>-1?s("div",{staticClass:"result"},[s("div",{staticClass:"heading additional-text"},[e._v(`
                        `+e._s(e.translate("additional:modules.tools.populationRequest.result.confidentialityHint"))+`:
                    `)]),e._v(" "),s("table",{staticClass:"table"},[e.sourceFHH!=="nein"?s("tr",[s("td",[e._v(e._s(e.translate("additional:modules.tools.populationRequest.result.populationFHH"))+":")]),e._v(" "),s("td",{staticClass:"inhabitantsFHH"},[e._v(`
                                `+e._s(e.inhabitantsFHH)+`
                            `)])]):e._e(),e._v(" "),e.sourceMRH!=="nein"?s("tr",[s("td",[e._v(e._s(e.translate("additional:modules.tools.populationRequest.result.populationMRH"))+":")]),e._v(" "),s("td",{staticClass:"inhabitantsMRH"},[e._v(`
                                `+e._s(e.inhabitantsMRH)+`
                            `)])]):e._e(),e._v(" "),e.searchArea?s("tr",[s("td",[e._v(e._s(e.translate("additional:modules.tools.populationRequest.result.areaSize"))+":")]),e._v(" "),s("td",{staticClass:"searchArea"},[e._v(`
                                `+e._s(e.searchArea)+`
                            `)])]):e._e()]),e._v(" "),e.showFHHHintAndLinktext?s("div",{staticClass:"inhabitantsFHHAddText"},[s("div",{staticClass:"hinweis additional-text"},[s("span",[e._v(e._s(e.translate("additional:modules.tools.populationRequest.result.hint"))+":")]),e._v("\xA0"+e._s(e.translate("additional:modules.tools.populationRequest.result.confidentialityHintSmallValues"))+`
                        `)]),e._v(" "),s("div",[s("a",{attrs:{target:"_blank",href:`${e.metaDataLink}${e.fhhId}`}},[e._v(`
                                `+e._s(e.translate("additional:modules.tools.populationRequest.result.dataSourceFHHLinktext"))+`
                            `)])])]):e._e(),e._v(" "),e.showMRHHintAndLinktext?s("div",{staticClass:"inhabitantsMRHAddText"},[s("div",{staticClass:"hinweis additional-text"},[s("div",[s("span",[e._v(e._s(e.translate("additional:modules.tools.populationRequest.result.hint"))+":")]),e._v(" "),e.showMRHSourceAreaOutsideHint?s("span",[e._v(`
                                    `+e._s(e.translate("additional:modules.tools.populationRequest.result.sourceAreaOutside"))+`
                                `)]):e._e()]),e._v(" "),s("span",[e._v(e._s(e.translate("additional:modules.tools.populationRequest.result.dataSourceMRHKey"))+":")]),e._v("\xA0"+e._s(e.translate("additional:modules.tools.populationRequest.result.dataSourceMRHValue"))+`
                        `)]),e._v(" "),s("div",[s("a",{attrs:{target:"_blank",href:`${e.metaDataLink}${e.mrhId}`}},[e._v(`
                                `+e._s(e.translate("additional:modules.tools.populationRequest.result.dataSourceMRHLinktext"))+`
                            `)])])]):e._e()]):e._e()])]),e._v(" "),e.isDefaultStyle?s("div",[s("hr"),e._v(" "),s("div",{staticClass:"checkbox"},[s("div",{staticClass:"checkbox-container"},[s("div",{staticClass:"form-inline"},[s("div",{staticClass:"title-checkbox pull-left"},[s("label",{attrs:{for:"rasterCheckBoxPopRE"},on:{click:function(p){return e.triggerRaster(!e.rasterActive)},keydown:function(p){return!p.type.indexOf("key")&&e._k(p.keyCode,"enter",13,p.key,"Enter")?null:e.triggerRaster(!e.rasterActive)}}},[e._v(e._s(e.translate("additional:modules.tools.populationRequest.select.showRasterLayer")))]),e._v(" "),s("ToggleCheckbox",{ref:"rasterCheckBox",attrs:{id:"rasterCheckBoxPopRE","default-state":e.isRasterVisibleInMap,title:e.translate("additional:modules.tools.populationRequest.switchOffFilter"),"text-on":e.translate("common:snippets.checkbox.on"),"text-off":e.translate("common:snippets.checkbox.off")},on:{change:e.triggerRaster}})],1)])]),e._v(" "),s("div",{staticClass:"checkbox-container"},[s("div",{staticClass:"form-inline"},[s("div",{staticClass:"title-checkbox pull-left"},[s("label",{attrs:{for:"alkisAdressesCheckBoxPopRe"},on:{click:function(p){return e.triggerAlkisAdresses(!e.alkisAdressesActive)},keydown:function(p){return!p.type.indexOf("key")&&e._k(p.keyCode,"enter",13,p.key,"Enter")?null:e.triggerAlkisAdresses(!e.alkisAdressesActive)}}},[e._v(`
                                `+e._s(e.translate("additional:modules.tools.populationRequest.select.showAlkisAdresses"))+`
                            `)]),e._v(" "),s("ToggleCheckbox",{ref:"alkisAdressesCheckBox",attrs:{id:"alkisAdressesCheckBoxPopRe","default-state":e.isAlkisAdressesVisibleInMap,title:e.translate("additional:modules.tools.populationRequest.switchOffFilter"),"text-on":e.translate("common:snippets.checkbox.on"),"text-off":e.translate("common:snippets.checkbox.off")},on:{change:e.triggerAlkisAdresses}})],1)])])])]):e._e()]},proxy:!0}:null],null,!0)})},w=[];b._withStripped=!0},4534:function(g,v,o){},4535:function(g,v,o){g.exports={"gridBreakpoints-xs":"0","gridBreakpoints-sm":"576px","gridBreakpoints-md":"768px","gridBreakpoints-lg":"992px","gridBreakpoints-xl":"1200px","gridBreakpoints-xxl":"1400px"}},5149:function(g,v,o){"use strict";o.r(v);var i=o(5150),d=o(4184);for(var y in d)["default"].indexOf(y)<0&&function(P){o.d(v,P,function(){return d[P]})}(y);var O=o(5151),x=o(5152),S=o(0),R=Object(S.a)(d.default,i.render,i.staticRenderFns,!1,null,"262c6dcf",null);v.default=R.exports},5150:function(g,v,o){"use strict";var i=o(4533),d=o.n(i);o.o(i,"render")&&o.d(v,"render",function(){return i.render}),o.o(i,"staticRenderFns")&&o.d(v,"staticRenderFns",function(){return i.staticRenderFns})},5151:function(g,v,o){"use strict";var i=o(4534),d=o.n(i)},5152:function(g,v,o){"use strict";var i=o(4535),d=o.n(i)}}]);
