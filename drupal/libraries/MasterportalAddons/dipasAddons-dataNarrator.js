(window.webpackJsonp=window.webpackJsonp||[]).push([[60,151,152,401,402,403,404,405,406,407,408,409,410,411],{214:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,C=(y,w)=>{for(var N in w)_(y,N,{get:w[N],enumerable:!0})},x=(y,w,N,P)=>{if(w&&typeof w=="object"||typeof w=="function")for(let S of b(w))!I.call(y,S)&&S!==N&&_(y,S,{get:()=>w[S],enumerable:!(P=v(w,S))||P.enumerable});return y},D=(y,w,N)=>(N=y!=null?o(M(y)):{},x(w||!y||!y.__esModule?_(N,"default",{value:y,enumerable:!0}):N,y)),T=y=>x(_({},"__esModule",{value:!0}),y),l={};C(l,{default:()=>h}),m.exports=T(l);var e=D(r(4987)),t=D(r(3629)),s=D(r(3630)),n=D(r(3631)),h={component:e.default,store:t.default,locales:{de:s.default,en:n.default}}},3315:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(s,n)=>{for(var h in n)o(s,h,{get:n[h],enumerable:!0})},I=(s,n,h,y)=>{if(n&&typeof n=="object"||typeof n=="function")for(let w of v(n))!b.call(s,w)&&w!==h&&o(s,w,{get:()=>n[w],enumerable:!(y=_(n,w))||y.enumerable});return s},C=s=>I(o({},"__esModule",{value:!0}),s),x={};M(x,{emptyStoryConf:()=>e,htmlEditorToolbar:()=>t,storyCreationViews:()=>l,storyTellingModeIcons:()=>T,storyTellingModes:()=>D}),m.exports=C(x);const D={CREATE:"create",PLAY:"play"},T={[D.CREATE]:"add",[D.PLAY]:"play_arrow"},l={STORY_CREATION:"story",STEP_CREATION:"step",PREVIEW:"preview"},e={chapters:[],steps:[]},t=[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],[{color:[]},{background:[]}],["link","image"],["clean"]]},3316:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,C=(h,y,w)=>y in h?o(h,y,{enumerable:!0,configurable:!0,writable:!0,value:w}):h[y]=w,x=(h,y)=>{for(var w in y||(y={}))M.call(y,w)&&C(h,w,y[w]);if(b)for(var w of b(y))I.call(y,w)&&C(h,w,y[w]);return h},D=(h,y)=>{for(var w in y)o(h,w,{get:y[w],enumerable:!0})},T=(h,y,w,N)=>{if(y&&typeof y=="object"||typeof y=="function")for(let P of v(y))!M.call(h,P)&&P!==w&&o(h,P,{get:()=>y[P],enumerable:!(N=_(y,P))||N.enumerable});return h},l=h=>T(o({},"__esModule",{value:!0}),h),e={};D(e,{default:()=>n}),m.exports=l(e);var t=r(3315),n={id:"dataNarrator",storyConf:x({},t.emptyStoryConf),htmlContents:{},htmlContentsImages:{},autoplay:!1,active:!1,keepOpen:!0,name:"Story Telling Tool",glyphicon:"glyphicon-book",renderToWindow:!0,resizableWindow:!0,isVisibleInMenu:!0,deactivateGFI:!1,initialWidth:500,initialWidthMobile:300,storyInterval:null}},3321:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols,I=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,D=(P,S,$)=>S in P?_(P,S,{enumerable:!0,configurable:!0,writable:!0,value:$}):P[S]=$,T=(P,S)=>{for(var $ in S||(S={}))C.call(S,$)&&D(P,$,S[$]);if(M)for(var $ of M(S))x.call(S,$)&&D(P,$,S[$]);return P},l=(P,S)=>{for(var $ in S)_(P,$,{get:S[$],enumerable:!0})},e=(P,S,$,E)=>{if(S&&typeof S=="object"||typeof S=="function")for(let O of b(S))!C.call(P,O)&&O!==$&&_(P,O,{get:()=>S[O],enumerable:!(E=v(S,O))||E.enumerable});return P},t=(P,S,$)=>($=P!=null?o(I(P)):{},e(S||!P||!P.__esModule?_($,"default",{value:P,enumerable:!0}):$,P)),s=P=>e(_({},"__esModule",{value:!0}),P),n={};l(n,{default:()=>N}),m.exports=s(n);var h=r(7),y=t(r(3316)),N=T({},(0,h.generateSimpleGetters)(y.default))},3342:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{getHTMLContentReference:()=>T,getStepReference:()=>D}),m.exports=C(x);function D(l,e){return`${l}.${e}`}function T(l,e){return`step_${l}-${e}`}},3343:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,l=(O,g,A)=>g in O?_(O,g,{enumerable:!0,configurable:!0,writable:!0,value:A}):O[g]=A,e=(O,g)=>{for(var A in g||(g={}))D.call(g,A)&&l(O,A,g[A]);if(C)for(var A of C(g))T.call(g,A)&&l(O,A,g[A]);return O},t=(O,g)=>v(O,M(g)),s=(O,g)=>{for(var A in g)_(O,A,{get:g[A],enumerable:!0})},n=(O,g,A,F)=>{if(g&&typeof g=="object"||typeof g=="function")for(let f of I(g))!D.call(O,f)&&f!==A&&_(O,f,{get:()=>g[f],enumerable:!(F=b(g,f))||F.enumerable});return O},h=(O,g,A)=>(A=O!=null?o(x(O)):{},n(g||!O||!O.__esModule?_(A,"default",{value:O,enumerable:!0}):A,O)),y=O=>n(_({},"__esModule",{value:!0}),O),w={};s(w,{default:()=>E}),m.exports=y(w);var N=h(r(3406)),P=h(r(3316));const S=JSON.parse(JSON.stringify(P.default));var E=t(e({},N.default),{resetModule({commit:O}){O("setStoryConf",S.storyConf),O("setHtmlContents",S.htmlContents),O("setHtmlContentsImages",S.htmlContentsImages),O("setInitialWidth",S.initialWidth)},resetCreatorContent({commit:O}){O("setHtmlContents",S.htmlContents),O("setHtmlContentsImages",S.htmlContentsImages),O("setInitialWidth",S.initialWidth)}})},3344:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,l=(E,O,g)=>O in E?_(E,O,{enumerable:!0,configurable:!0,writable:!0,value:g}):E[O]=g,e=(E,O)=>{for(var g in O||(O={}))D.call(O,g)&&l(E,g,O[g]);if(C)for(var g of C(O))T.call(O,g)&&l(E,g,O[g]);return E},t=(E,O)=>v(E,M(O)),s=(E,O)=>{for(var g in O)_(E,g,{get:O[g],enumerable:!0})},n=(E,O,g,A)=>{if(O&&typeof O=="object"||typeof O=="function")for(let F of I(O))!D.call(E,F)&&F!==g&&_(E,F,{get:()=>O[F],enumerable:!(A=b(O,F))||A.enumerable});return E},h=(E,O,g)=>(g=E!=null?o(x(E)):{},n(O||!E||!E.__esModule?_(g,"default",{value:E,enumerable:!0}):g,E)),y=E=>n(_({},"__esModule",{value:!0}),E),w={};s(w,{default:()=>$}),m.exports=y(w);var N=r(7),P=h(r(3316)),$=t(e({},(0,N.generateSimpleMutations)(P.default)),{applyTranslationKey:(E,O)=>{O&&O.indexOf("translate#")>-1&&(E.name=O.substr(10))}})},3406:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,l=(f,d,i)=>d in f?_(f,d,{enumerable:!0,configurable:!0,writable:!0,value:i}):f[d]=i,e=(f,d)=>{for(var i in d||(d={}))D.call(d,i)&&l(f,i,d[i]);if(C)for(var i of C(d))T.call(d,i)&&l(f,i,d[i]);return f},t=(f,d)=>v(f,M(d)),s=(f,d)=>{for(var i in d)_(f,i,{get:d[i],enumerable:!0})},n=(f,d,i,j)=>{if(d&&typeof d=="object"||typeof d=="function")for(let a of I(d))!D.call(f,a)&&a!==i&&_(f,a,{get:()=>d[a],enumerable:!(j=b(d,a))||j.enumerable});return f},h=(f,d,i)=>(i=f!=null?o(x(f)):{},n(d||!f||!f.__esModule?_(i,"default",{value:f,enumerable:!0}):i,f)),y=f=>n(_({},"__esModule",{value:!0}),f),w={};s(w,{default:()=>F}),m.exports=y(w);var N=h(r(3921)),P=h(r(3922)),S=r(3342);function $({state:f,commit:d},{chapterNumber:i,stepNumber:j,htmlContent:a,htmlContentImages:p,previousHtmlReference:c}){const L=e({},f.htmlContents),R=e({},f.htmlContentsImages),B=(0,S.getHTMLContentReference)(i,j);return c&&(delete L[c],delete R[c]),d("setHtmlContents",t(e({},L),{[B]:a})),d("setHtmlContentsImages",t(e({},R),{[B]:p})),`${B}.html`}function E({state:f,commit:d},i){const j=f.storyConf.chapters,a=t(e({},f.storyConf),{chapters:[...j,i]});d("setStoryConf",a)}function O({state:f,commit:d},{previousStepReference:i,step:j}){const a=f.storyConf.steps.filter(({associatedChapter:L,stepNumber:R})=>!i||i!==(0,S.getStepReference)(L,R)),p=[...a,j].sort((L,R)=>(L.associatedChapter>R.associatedChapter)-(L.associatedChapter<R.associatedChapter)||(L.stepNumber>R.stepNumber)-(L.stepNumber<R.stepNumber)),c=t(e({},f.storyConf),{steps:p});d("setStoryConf",c)}function g({state:f,commit:d},{associatedChapter:i,stepNumber:j}){const a=f.storyConf.steps.filter(L=>i!==L.associatedChapter||j!==L.stepNumber),p=!a.some(L=>L.associatedChapter===i),c=p?f.storyConf.chapters.filter(({chapterNumber:L})=>L!==i):f.storyConf.chapters;d("setStoryConf",t(e({},f.storyConf),{chapters:c,steps:a}))}function A({state:f}){const d=new N.default,i=Object.entries(f.htmlContents),j=e({},f.storyConf);if(i.length){const a="story";d.folder(a),j.htmlFolder=a;for(const p of i){const c=p[0],L=f.htmlContentsImages[c]||[],R=`${a}/images`,[B,W]=c.split(".").map(Number),V=`${a}/${c}.html`;let U=p[1];L.length&&d.folder(R);for(const[K,J]of L.entries()){const H=K+1,z=`${a}/images/${c}_${H}.${J.fileExtension}`;d.file(z,J.dataUrl.replace(/data:.+?base64,/,""),{base64:!0}),U=U.replace(J.dataUrl,`assets/${z}`)}j.steps=j.steps.map(K=>K.associatedChapter!==B||K.stepNumber!==W?K:{step:K,htmlFile:V}),d.file(V,U)}}d.file("story.json",JSON.stringify(j)),d.generateAsync({type:"blob"}).then(a=>{P.default.saveAs(a,"story.zip")})}var F={saveHtmlContent:$,addStoryChapter:E,saveStoryStep:O,deleteStoryStep:g,downloadStoryFiles:A}},3525:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,C=(s,n)=>{for(var h in n)_(s,h,{get:n[h],enumerable:!0})},x=(s,n,h,y)=>{if(n&&typeof n=="object"||typeof n=="function")for(let w of b(n))!I.call(s,w)&&w!==h&&_(s,w,{get:()=>n[w],enumerable:!(y=v(n,w))||y.enumerable});return s},D=(s,n,h)=>(h=s!=null?o(M(s)):{},x(n||!s||!s.__esModule?_(h,"default",{value:s,enumerable:!0}):h,s)),T=s=>x(_({},"__esModule",{value:!0}),s),l={};C(l,{default:()=>t}),m.exports=T(l);var e=D(r(20));function t(s){return e.default.get(s).then(n=>n.data).then(n=>n)}},3627:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(T,l)=>{for(var e in l)o(T,e,{get:l[e],enumerable:!0})},I=(T,l,e,t)=>{if(l&&typeof l=="object"||typeof l=="function")for(let s of v(l))!b.call(T,s)&&s!==e&&o(T,s,{get:()=>l[s],enumerable:!(t=_(l,s))||t.enumerable});return T},C=T=>I(o({},"__esModule",{value:!0}),T),x={};M(x,{default:()=>D}),m.exports=C(x);function D(T){return new Promise(l=>{const e=new FileReader;e.addEventListener("load",()=>{l(e.result)},!1),e.readAsDataURL(T)})}},3628:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(T,l)=>{for(var e in l)o(T,e,{get:l[e],enumerable:!0})},I=(T,l,e,t)=>{if(l&&typeof l=="object"||typeof l=="function")for(let s of v(l))!b.call(T,s)&&s!==e&&o(T,s,{get:()=>l[s],enumerable:!(t=_(l,s))||t.enumerable});return T},C=T=>I(o({},"__esModule",{value:!0}),T),x={};M(x,{default:()=>D}),m.exports=C(x);function D(T){const l=T.name.match(new RegExp("\\.(?<extension>\\w+$)")),e=l&&l.groups.extension;if(!e)throw Error("Couldn't find file extension in file name.");return e}},3629:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,C=(N,P)=>{for(var S in P)_(N,S,{get:P[S],enumerable:!0})},x=(N,P,S,$)=>{if(P&&typeof P=="object"||typeof P=="function")for(let E of b(P))!I.call(N,E)&&E!==S&&_(N,E,{get:()=>P[E],enumerable:!($=v(P,E))||$.enumerable});return N},D=(N,P,S)=>(S=N!=null?o(M(N)):{},x(P||!N||!N.__esModule?_(S,"default",{value:N,enumerable:!0}):S,N)),T=N=>x(_({},"__esModule",{value:!0}),N),l={};C(l,{default:()=>w}),m.exports=T(l);var e=D(r(1906)),t=D(r(3784)),s=D(r(3343)),n=D(r(3321)),h=D(r(3344)),y=D(r(3316)),w=(0,t.default)([e.default,{namespaced:!0,state:y.default,actions:s.default,mutations:h.default,getters:n.default}])},3630:function(m){m.exports=JSON.parse('{"modules":{"tools":{"dataNarrator":{"title":"Data Narrator","create":"Story erstellen","play":"Story starten","tableOfContents":"Inhaltsverzeichnis","createStory":"Story erstellen","createStoryStep":"Storyschritt erstellen","label":{"storyName":"Storyname","storyDescription":"Beschreibung","author":"Autor","steps":"Schritte","chapter":"Kapitel","newChapterNumber":"Nummer des neuen Kapitels","newChapterTitle":"Titel des neuen Kapitels","stepNumber":"Schritt Nummer","stepTitle":"Schritt Titel","stepWidth":"Fensterbreite","visible":"Sichtbarkeit","htmlContent":"Inhalt","centerCoordinate":"Position der Karte","zoomLevel":"Zoomstufe der Karte","layers":"Layer","interactionAddons":"Erweiterungen","is3D":"Karte in 3D anzeigen","centerCoordinate3D":"Position/Winkel der 3D Karte","heading":"Heading","pitch":"Pitch"},"warning":{"mapMoved":"Die eingetragene Position entspricht nicht der aktuellen Ansicht der Karte.","mapZoomed":"Die eingetragene Zoomstufe entspricht nicht der aktuellen Ansicht der Karte."},"error":{"chapterNumberAlreadyExists":"Ein Kapitel mit dieser Nummer existiert bereits. Bitte w\xE4hlen Sie eine andere Nummer.","stepNumberAlreadyExists":"Ein Schritt mit dieser Nummer existiert bereits. Bitte w\xE4hlen Sie eine andere Nummer.","errorAddingImage":"Das Bild konnte nicht geladen werden. Bitte versuchen Sie es mit einer anderen Datei."},"confirm":{"closeStoryCreation":{"title":"Tool schlie\xDFen","description":"Sind Sie sicher, dass Sie das Tool schlie\xDFen m\xF6chten? Eingetragene Daten werden nicht gespeichert.","confirmButton":"Schlie\xDFen","denyButton":"Abbrechen"},"deleteStep":{"title":"Schritt l\xF6schen","description":"Sind Sie sicher, dass Sie diesen Schritt l\xF6schen m\xF6chten? Dies kann nicht r\xFCckg\xE4ngig gemacht werden.","confirmButton":"L\xF6schen","denyButton":"Abbrechen"}},"button":{"cancel":"Abbrechen","addStep":"Schritt hinzuf\xFCgen","deleteStep":"Schritt l\xF6schen","submitAddStep":"Schritt zur Story hinzuf\xFCgen","submitEditStep":"Schritt speichern","previewStory":"Vorschau","downloadStory":"Story herunterladen"},"newChapter":"Neues Kapitel"}}}}')},3631:function(m){m.exports=JSON.parse(`{"modules":{"tools":{"dataNarrator":{"title":"Data Narrator","create":"Create Story","play":"Start Story","tableOfContents":"Table of Contents","createStory":"Create Story","createStoryStep":"Create Story Step","label":{"storyName":"Name of the Story","storyDescription":"Description","author":"Author","steps":"Steps","chapter":"Chapter","newChapterNumber":"Number of the new Chapter","newChapterTitle":"Title of the new Chapter","stepNumber":"Step Number","stepTitle":"Step Title","stepWidth":"Window Width","visible":"Visibility","htmlContent":"Content","centerCoordinate":"Position of the Map","zoomLevel":"Zoom Level of the Map","layers":"Layers","interactionAddons":"AddOns","is3D":"Show map in 3D","centerCoordinate3D":"Position/Angle of the 3D map","heading":"Heading","pitch":"Pitch"},"warning":{"mapMoved":"The entered position doesn't match the current map view.","mapZoomed":"The entered zoom level doesn't match the current map view."},"error":{"chapterNumberAlreadyExists":"A chapter with this number already exists. Please try out a different number.","stepNumberAlreadyExists":"A step with this number already exists. Please try out a different number.","errorAddingImage":"The image couldn't be loaded. Please try another file."},"confirm":{"closeStoryCreation":{"title":"Close Tool","description":"Are you sure you want to close this tool? Entered data won't be saved.","confirmButton":"Close","denyButton":"Cancel"},"deleteStep":{"title":"Delete step","description":"Are you sure you want to delete this step? This can't be undone.","confirmButton":"Delete","denyButton":"Cancel"}},"button":{"cancel":"Cancel","addStep":"Add Step","deleteStep":"Delete Step","submitAddStep":"Add Step to Story","submitEditStep":"Save Step","previewStory":"Preview Story","downloadStory":"Download Story"},"newChapter":"New Chapter"}}}}`)},3784:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,C=(n,h,y)=>h in n?o(n,h,{enumerable:!0,configurable:!0,writable:!0,value:y}):n[h]=y,x=(n,h)=>{for(var y in h||(h={}))M.call(h,y)&&C(n,y,h[y]);if(b)for(var y of b(h))I.call(h,y)&&C(n,y,h[y]);return n},D=(n,h)=>{for(var y in h)o(n,y,{get:h[y],enumerable:!0})},T=(n,h,y,w)=>{if(h&&typeof h=="object"||typeof h=="function")for(let N of v(h))!M.call(n,N)&&N!==y&&o(n,N,{get:()=>h[N],enumerable:!(w=_(h,N))||w.enumerable});return n},l=n=>T(o({},"__esModule",{value:!0}),n),e={};D(e,{default:()=>s}),m.exports=l(e);function t(n,h){return h.map(y=>y[n]).reduce((y,w)=>x(x({},y),w),{})}function s(n){return{namespaced:!0,state:t("state",n),getters:t("getters",n),mutations:t("mutations",n),actions:t("actions",n)}}},4072:function(m,u,r){"use strict";r.r(u);var o=r(4073),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4073:function(m,u,r){(function(o){var _=Object.create,v=Object.defineProperty,b=Object.defineProperties,M=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,D=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,e=(i,j,a)=>j in i?v(i,j,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[j]=a,t=(i,j)=>{for(var a in j||(j={}))T.call(j,a)&&e(i,a,j[a]);if(x)for(var a of x(j))l.call(j,a)&&e(i,a,j[a]);return i},s=(i,j)=>b(i,I(j)),n=(i,j)=>{for(var a in j)v(i,a,{get:j[a],enumerable:!0})},h=(i,j,a,p)=>{if(j&&typeof j=="object"||typeof j=="function")for(let c of C(j))!T.call(i,c)&&c!==a&&v(i,c,{get:()=>j[c],enumerable:!(p=M(j,c))||p.enumerable});return i},y=(i,j,a)=>(a=i!=null?_(D(i)):{},h(j||!i||!i.__esModule?v(a,"default",{value:i,enumerable:!0}):a,i)),w=i=>h(v({},"__esModule",{value:!0}),i),N={};n(N,{default:()=>d}),m.exports=w(N);var P=r(9),S=y(r(57)),$=y(r(4989)),E=y(r(4429)),O=y(r(3525)),g=y(r(3315)),A=y(r(3343)),F=y(r(3321)),f=y(r(3344)),d={name:"DataNarrator",components:{ToolTemplate:S.default,StoryCreator:$.default,StoryPlayer:E.default},data(){return{constants:g,fetchDataFromUrl:O.default,mode:null,storyConfPath:Config.storyConf?Config.storyConf:this.getConfPathfromUrl(),modeOptions:null}},computed:t(t({},(0,P.mapGetters)("Tools/DataNarrator",Object.keys(F.default))),(0,P.mapGetters)(["uiStyle"])),watch:{active(i){}},created(){this.$on("close",this.close)},mounted(){this.applyTranslationKey(this.name),this.createModeOptions(),this.loadStoryFromFile(),this.mode=this.$store.state.Tools.DataNarrator.autoplay?g.storyTellingModes.PLAY:""},methods:s(t(t({},(0,P.mapMutations)("Tools/DataNarrator",Object.keys(f.default))),(0,P.mapActions)("Tools/DataNarrator",Object.keys(A.default))),{loadStoryFromFile(){this.storyConfPath&&(0,O.default)(this.storyConfPath).then(i=>{this.setStoryConf(i),this.activateTool()})},activateTool(){if(this.setActive(!0),this.uiStyle==="TABLE"){const i=document.getElementsByClassName("table-tool-win-all-vue")[0];i&&(i.style.display="block")}this.storyConf.isNoCreateMode&&(this.modeOptions.find(i=>i.mode==="create").visible=!1)},createModeOptions(){this.modeOptions=Object.values(this.constants.storyTellingModes).map(i=>({mode:i,icon:this.constants.storyTellingModeIcons[i],title:this.$t("additional:modules.tools.dataNarrator."+i),disabled:i===this.constants.storyTellingModes.PLAY&&!this.storyConfPath,visible:!0}))},onChangeStoryTellingMode(i){this.mode=Object.values(this.constants.storyTellingModes)[i]},reset(){const i=()=>{this.resetCreatorContent(),this.loadStoryFromFile(),this.mode=null};if(this.isCreatingStory()){const j={actionConfirmedCallback:i,confirmCaption:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.confirmButton"),denyCaption:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.denyButton"),textContent:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.description"),headline:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.title"),forceClickToClose:!0};this.$store.dispatch("ConfirmAction/addSingleAction",j)}else i()},close(){const i=()=>{this.setActive(!1),this.resetModule();const j=o.request("ModelList","getModelByAttributes",{id:this.$store.state.Tools.DataNarrator.id});j&&j.set("isActive",!1)};if(this.isCreatingStory()){const j={actionConfirmedCallback:i,confirmCaption:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.confirmButton"),denyCaption:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.denyButton"),textContent:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.description"),headline:this.$t("additional:modules.tools.dataNarrator.confirm.closeStoryCreation.title"),forceClickToClose:!0};this.$store.dispatch("ConfirmAction/addSingleAction",j)}else i()},isCreatingStory(){return this.mode===this.constants.storyTellingModes.CREATE&&JSON.stringify(this.$store.state.Tools.DataNarrator.storyConf)!==JSON.stringify(this.constants.emptyStoryConf)},getConfPathfromUrl(){const i=window.location.search;return new URLSearchParams(i).get("story")}})}}).call(this,r(2))},4074:function(m,u,r){"use strict";r.r(u);var o=r(4075),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4075:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,l=(f,d,i)=>d in f?_(f,d,{enumerable:!0,configurable:!0,writable:!0,value:i}):f[d]=i,e=(f,d)=>{for(var i in d||(d={}))D.call(d,i)&&l(f,i,d[i]);if(C)for(var i of C(d))T.call(d,i)&&l(f,i,d[i]);return f},t=(f,d)=>v(f,M(d)),s=(f,d)=>{for(var i in d)_(f,i,{get:d[i],enumerable:!0})},n=(f,d,i,j)=>{if(d&&typeof d=="object"||typeof d=="function")for(let a of I(d))!D.call(f,a)&&a!==i&&_(f,a,{get:()=>d[a],enumerable:!(j=b(d,a))||j.enumerable});return f},h=(f,d,i)=>(i=f!=null?o(x(f)):{},n(d||!f||!f.__esModule?_(i,"default",{value:f,enumerable:!0}):i,f)),y=f=>n(_({},"__esModule",{value:!0}),f),w={};s(w,{default:()=>F}),m.exports=y(w);var N=r(9),P=h(r(4991)),S=h(r(4994)),$=h(r(4429)),E=h(r(3315)),O=h(r(3343)),g=h(r(3321)),A=h(r(3344)),F={name:"StoryCreator",components:{StoryForm:P.default,StepForm:S.default,StoryPlayer:$.default},data(){return{constants:E,view:E.storyCreationViews.STORY_CREATION,stepToEdit:null}},computed:e({},(0,N.mapGetters)("Tools/DataNarrator",Object.keys(g.default))),mounted(){this.setStoryConf(e({},this.constants.emptyStoryConf))},methods:t(e(e({},(0,N.mapMutations)("Tools/DataNarrator",Object.keys(A.default))),(0,N.mapActions)("Tools/DataNarrator",Object.keys(O.default))),{onEditStep(f){this.stepToEdit=f,this.view=this.constants.storyCreationViews.STEP_CREATION},returnToStoryForm(){this.stepToEdit=null,this.view=this.constants.storyCreationViews.STORY_CREATION}})}},4076:function(m,u,r){"use strict";r.r(u);var o=r(4077),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4077:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols,I=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,D=(E,O,g)=>O in E?_(E,O,{enumerable:!0,configurable:!0,writable:!0,value:g}):E[O]=g,T=(E,O)=>{for(var g in O||(O={}))C.call(O,g)&&D(E,g,O[g]);if(M)for(var g of M(O))x.call(O,g)&&D(E,g,O[g]);return E},l=(E,O)=>{for(var g in O)_(E,g,{get:O[g],enumerable:!0})},e=(E,O,g,A)=>{if(O&&typeof O=="object"||typeof O=="function")for(let F of b(O))!C.call(E,F)&&F!==g&&_(E,F,{get:()=>O[F],enumerable:!(A=v(O,F))||A.enumerable});return E},t=(E,O,g)=>(g=E!=null?o(I(E)):{},e(O||!E||!E.__esModule?_(g,"default",{value:E,enumerable:!0}):g,E)),s=E=>e(_({},"__esModule",{value:!0}),E),n={};l(n,{default:()=>$}),m.exports=s(n);var h=r(9),y=t(r(3315)),w=r(3342),N=t(r(3343)),P=t(r(3321)),S=t(r(3344)),$={name:"StoryForm",components:{},data(){return{constants:y,getStepReference:w.getStepReference}},computed:T({},(0,h.mapGetters)("Tools/DataNarrator",Object.keys(P.default))),methods:T(T({},(0,h.mapMutations)("Tools/DataNarrator",Object.keys(S.default))),(0,h.mapActions)("Tools/DataNarrator",Object.keys(N.default)))}},4078:function(m,u,r){"use strict";r.r(u);var o=r(4079),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4079:function(m,u,r){(function(o,_){var v=Object.create,b=Object.defineProperty,M=Object.defineProperties,I=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,T=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable,t=(a,p,c)=>p in a?b(a,p,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[p]=c,s=(a,p)=>{for(var c in p||(p={}))l.call(p,c)&&t(a,c,p[c]);if(D)for(var c of D(p))e.call(p,c)&&t(a,c,p[c]);return a},n=(a,p)=>M(a,C(p)),h=(a,p)=>{for(var c in p)b(a,c,{get:p[c],enumerable:!0})},y=(a,p,c,L)=>{if(p&&typeof p=="object"||typeof p=="function")for(let R of x(p))!l.call(a,R)&&R!==c&&b(a,R,{get:()=>p[R],enumerable:!(L=I(p,R))||L.enumerable});return a},w=(a,p,c)=>(c=a!=null?v(T(a)):{},y(p||!a||!a.__esModule?b(c,"default",{value:a,enumerable:!0}):c,a)),N=a=>y(b({},"__esModule",{value:!0}),a),P=(a,p,c)=>new Promise((L,R)=>{var B=U=>{try{V(c.next(U))}catch(K){R(K)}},W=U=>{try{V(c.throw(U))}catch(K){R(K)}},V=U=>U.done?L(U.value):Promise.resolve(U.value).then(B,W);V((c=c.apply(a,p)).next())}),S={};h(S,{default:()=>j}),m.exports=N(S);var $=r(9),E=r(4996),O=w(r(3315)),g=w(r(3627)),A=w(r(3628)),F=r(3342),f=w(r(3343)),d=w(r(3321)),i=w(r(3344)),j={name:"StepForm",components:{VueEditor:E.VueEditor},props:{isEditing:{type:Boolean,default:!1},initialStep:{type:Object,default:null}},data(){return{constants:O,getDataUrlFromFile:g.default,getFileExtension:A.default,getStepReference:F.getStepReference,getHTMLContentReference:F.getHTMLContentReference,minStepWidth:280,maxStepWidth:1e3,step:this.initialStep||{stepNumber:1,stepWidth:this.$store.state.Tools.DataNarrator.initialWidth,visible:!0,associatedChapter:null,title:"",htmlFile:null,centerCoordinate:null,zoomLevel:null,layers:[],interactionAddons:[],is3D:!1,navigation3D:{cameraPosition:[null,null,null],heading:null,pitch:null}},newChapter:{chapterNumber:this.$store.state.Tools.DataNarrator.storyConf.chapters.length+1,chapterTitle:""},htmlContent:this.initialStep&&this.$store.state.Tools.DataNarrator.htmlContents[(0,F.getHTMLContentReference)(this.initialStep.associatedChapter,this.initialStep.stepNumber)]||null,htmlContentImages:this.initialStep&&this.$store.state.Tools.DataNarrator.htmlContentsImages[(0,F.getHTMLContentReference)(this.initialStep.associatedChapter,this.initialStep.stepNumber)]||[],is3DLayerActive:!1,layerTypes3DSpecific:["Entities3D","TileSet3D","Terrain3D"],mapMovedPosition:{cameraPosition:[null,null,null],heading:null,pitch:null}}},computed:n(s({},(0,$.mapGetters)("Tools/DataNarrator",Object.keys(d.default))),{allChapterNumbers(){return(this.storyConf.chapters||[]).map(({chapterNumber:p})=>p)},allStepNumbers(){return(this.storyConf.steps||[]).filter(({associatedChapter:p})=>p===this.step.associatedChapter).map(({stepNumber:p})=>p)},chapterOptions(){const a=this.storyConf.chapters||[],p=a.map(L=>({value:L.chapterNumber,text:L.chapterNumber+" \u2013 "+L.chapterTitle})),c={value:null,text:this.$t("additional:modules.tools.dataNarrator.newChapter")};return[...p,c]},layerOptions(){return o.request("ModelList","getModelsByAttributes",{isVisibleInTree:!0}).map(p=>({value:p.id,text:p.attributes.name}))},addonOptions(){return this.$store.state.Tools.configuredTools.filter(p=>p.key!==this.id).map(p=>({value:p.key,text:p.component.name||p.key}))}}),watch:{"step.stepWidth"(a){this.setInitialWidth(a)},"step.layers"(a){const p=a.map(Number),c=o.request("ModelList","getModelsByAttributes",{isVisibleInTree:!0});for(const L of c)p.includes(Number(L.attributes.id))&&!L.attributes.isVisibleInMap?(L.setIsVisibleInMap(!0),L.set("isSelected",!0)):!p.includes(Number(L.attributes.id))&&L.attributes.isVisibleInMap&&(L.setIsVisibleInMap(!1),L.set("isSelected",!1));this.is3DLayerActive=o.request("ModelList","getModelsByAttributes",{isVisibleInMap:!0}).filter(L=>this.layerTypes3DSpecific.includes(L.attributes.typ)).length>0,o.trigger("Menu","rerender")},"step.interactionAddons"(a,p){const c=this.$store.state.Tools.configuredTools;p.filter(R=>!a.includes(R)).forEach(R=>{const B=c.find(({key:W})=>W===R);if(B){const W=B.key.charAt(0).toUpperCase()+B.key.slice(1);this.$store.commit(`Tools/${W}/setActive`,!1)}}),a.forEach(R=>{const B=c.find(({key:W})=>W===R);if(B){const W=B.key.charAt(0).toUpperCase()+B.key.slice(1);this.$store.commit(`Tools/${W}/setActive`,!0)}})}},methods:n(s(s(s({},(0,$.mapMutations)("Tools/DataNarrator",Object.keys(i.default))),(0,$.mapActions)("Tools/DataNarrator",Object.keys(f.default))),(0,$.mapGetters)("Maps",["center","zoom","getMap3d"])),{onChangeChapterNumber(a){this.newChapter.chapterNumber=Number(a.target.value),this.allChapterNumbers.includes(this.newChapter.chapterNumber)?a.target.setCustomValidity(this.$t("additional:modules.tools.dataNarrator.error.chapterNumberAlreadyExists")):a.target.setCustomValidity("")},onChangeStepNumber(a){this.step.stepNumber=Number(a.target.value),this.allStepNumbers.includes(this.step.stepNumber)&&(!this.initialStep||this.step.stepNumber!==this.initialStep.stepNumber)?a.target.setCustomValidity(this.$t("additional:modules.tools.dataNarrator.error.stepNumberAlreadyExists")):a.target.setCustomValidity("")},onChangeStepWidth(a){this.step.stepWidth=Math.max(this.minStepWidth,Math.min(this.maxStepWidth,Number(a.target.value)))},onAddImage(a,p,c,L){return P(this,null,function*(){try{const R=yield(0,g.default)(a),B=(0,A.default)(a);this.htmlContentImages.push({dataUrl:R,fileExtension:B}),p.insertEmbed(c,"image",R),L()}catch(R){console.error(R),o.trigger("Alert","alert",{text:_.t("additional:modules.tools.dataNarrator.error.errorAddingImage"),category:"Error",kategorie:"alert-danger"})}})},onRemoveImage(a){this.htmlContentImages=this.htmlContentImages.filter(p=>p.dataUrl!==a)},onDeleteStep(){const a=()=>{const{associatedChapter:c,stepNumber:L}=this.initialStep||this.step;this.deleteStoryStep({associatedChapter:c,stepNumber:L}),this.$emit("return")},p={actionConfirmedCallback:a,confirmCaption:this.$t("additional:modules.tools.dataNarrator.confirm.deleteStep.confirmButton"),denyCaption:this.$t("additional:modules.tools.dataNarrator.confirm.deleteStep.denyButton"),textContent:this.$t("additional:modules.tools.dataNarrator.confirm.deleteStep.description"),headline:this.$t("additional:modules.tools.dataNarrator.confirm.deleteStep.title"),forceClickToClose:!0};this.$store.dispatch("ConfirmAction/addSingleAction",p)},onSubmit(){return P(this,null,function*(){if(this.step.associatedChapter===null&&(this.addStoryChapter(this.newChapter),this.step.associatedChapter=this.newChapter.chapterNumber),this.htmlContent){const p=this.initialStep&&this.getHTMLContentReference(this.initialStep.associatedChapter,this.initialStep.stepNumber);this.step.htmlFile=yield this.saveHtmlContent(s({chapterNumber:this.step.associatedChapter,stepNumber:this.step.stepNumber,htmlContent:this.htmlContent,htmlContentImages:this.htmlContentImages},p&&{previousHtmlReference:p}))}const a=this.initialStep&&this.getStepReference(this.initialStep.associatedChapter,this.initialStep.stepNumber);this.saveStoryStep(s({step:this.step},a&&{previousStepReference:a})),this.$emit("return")})},toDegrees(a){const p=Cesium.Cartographic.fromCartesian(a);return[p.longitude/Math.PI*180,p.latitude/Math.PI*180,p.height]},get3DMapCenter(){const a=o.request("Map","getMap3d").getCesiumScene().camera;return{cameraPosition:this.toDegrees(a.position),heading:a.heading,pitch:a.pitch}},activate3DMap(a){return P(this,null,function*(){this.step.is3D=a,this.step.is3D&&!o.request("Map","isMap3d")?(yield this.$store.dispatch("Maps/activateMap3D"),o.request("Map","getMap3d").getCesiumScene().camera.moveEnd.addEventListener(this.mapMovedHandler)):!this.step.is3D&&o.request("Map","isMap3d")&&(yield this.$store.dispatch("Maps/deactivateMap3D"))})},mapMovedHandler(){this.mapMovedPosition=this.get3DMapCenter()},isCameraPositionDifferent(){return this.step.navigation3D.cameraPosition[0]&&this.mapMovedPosition.cameraPosition[0]&&(this.step.navigation3D.cameraPosition[0]!==this.mapMovedPosition.cameraPosition[0]||this.step.navigation3D.cameraPosition[0]!==this.mapMovedPosition.cameraPosition[0]||this.step.navigation3D.cameraPosition[0]!==this.mapMovedPosition.cameraPosition[0])}})}}).call(this,r(2),r(5))},4080:function(m,u,r){"use strict";r.r(u);var o=r(4081),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4081:function(m,u,r){(function(o){var _=Object.create,v=Object.defineProperty,b=Object.defineProperties,M=Object.getOwnPropertyDescriptor,I=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,D=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,e=(a,p,c)=>p in a?v(a,p,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[p]=c,t=(a,p)=>{for(var c in p||(p={}))T.call(p,c)&&e(a,c,p[c]);if(x)for(var c of x(p))l.call(p,c)&&e(a,c,p[c]);return a},s=(a,p)=>b(a,I(p)),n=(a,p)=>{for(var c in p)v(a,c,{get:p[c],enumerable:!0})},h=(a,p,c,L)=>{if(p&&typeof p=="object"||typeof p=="function")for(let R of C(p))!T.call(a,R)&&R!==c&&v(a,R,{get:()=>p[R],enumerable:!(L=M(p,R))||L.enumerable});return a},y=(a,p,c)=>(c=a!=null?_(D(a)):{},h(p||!a||!a.__esModule?v(c,"default",{value:a,enumerable:!0}):c,a)),w=a=>h(v({},"__esModule",{value:!0}),a),N=(a,p,c)=>new Promise((L,R)=>{var B=U=>{try{V(c.next(U))}catch(K){R(K)}},W=U=>{try{V(c.throw(U))}catch(K){R(K)}},V=U=>U.done?L(U.value):Promise.resolve(U.value).then(B,W);V((c=c.apply(a,p)).next())}),P={};n(P,{default:()=>j}),m.exports=w(P);var S=r(9),$=y(r(4999)),E=y(r(5002)),O=y(r(5006)),g=y(r(3525)),A=r(3342),F=y(r(8)),f=y(r(3343)),d=y(r(3321)),i=y(r(3344)),j={name:"StoryPlayer",components:{ScrollyTeller:E.default,StoryNavigation:$.default,DipasPlayer:O.default},props:{storyConfPath:{type:String,default:null},isPreview:{type:Boolean,default:!1}},data(){return{getStepReference:A.getStepReference,fetchDataFromUrl:g.default,getHTMLContentReference:A.getHTMLContentReference,currentStepIndex:0,loadedContent:null,isHovering:null,isChangeFrom3D:!1,showMode:"",isScrolly:!1,steps:[],activeTools:[],interval:null}},computed:s(t({},(0,S.mapGetters)("Tools/DataNarrator",Object.keys(d.default))),{currentStep(){const a=this.$store.state.Tools.DataNarrator.autoplay?this.steps[this.currentStepIndex]:this.storyConf.steps[this.currentStepIndex];return this.currentStepIndex!==null?this.storyConf&&a:null},currentChapter(){return this.storyConf&&this.storyConf.chapters&&this.storyConf.chapters.find(({chapterNumber:a})=>this.currentStep&&this.currentStep.associatedChapter===a)},stepsCopy(){return JSON.parse(JSON.stringify(this.storyConf.steps))}}),watch:{currentStepIndex(){this.loadStep()},activeTools(a,p){let c=[];a!==p&&p!==void 0&&(c=p.filter(L=>!a.includes(L)||!a.length),this.deactivateTool(c))}},mounted(){return N(this,null,function*(){var a,p;this.storyConf&&this.storyConf.chapters.length?(this.showMode=(a=this.storyConf)!=null&&a.displayType?this.storyConf.displayType:"classic",this.loadStep()):(!this.storyConf&&this.storyConfPath||!this.storyConf.chapters.length)&&(yield(0,g.default)(this.storyConfPath).then(c=>{var L;this.setStoryConf(c);let R=0;this.stepsCopy.forEach(()=>{this.assignDepth(this.stepsCopy,0,R),R+=1}),this.showMode=(L=this.storyConf)!=null&&L.displayType?this.storyConf.displayType:"classic",this.createStepArray(this.stepsCopy),this.loadStep()})),this.isPreview&&this.storyConf&&(this.showMode=(p=this.storyConf)!=null&&p.displayType?this.storyConf.displayType:"classic",this.loadStep()),this.storyConf.storyInterval&&this.activateInterval()})},beforeDestroy(){const a=o.request("ModelList","getModelsByAttributes",{isVisibleInTree:!0});for(const p of a)(this.currentStep&&this.currentStep.layers||[]).includes(Number(p.attributes.id))&&p.attributes.isVisibleInMap&&this.disableLayer(p);o.trigger("Menu","rerender"),this.storyConf.displayType.toUpperCase()==="DIPAS"&&this.$store.commit("Tools/DipasStorySelector/setActive",!0)},methods:s(t(t(t(t(t({},(0,S.mapActions)("Tools",["setToolActive"])),(0,S.mapMutations)("Tools/DataNarrator",Object.keys(i.default))),(0,S.mapActions)("Tools/DataNarrator",Object.keys(f.default))),(0,S.mapMutations)("Map",["setCenter","setLayerVisibility"])),(0,S.mapGetters)("Map",["layerList","visibleLayerList","map"])),{activateTool(a){const p=this.$store.state.Tools.configuredTools,c=p.find(({key:L})=>L===a);if(c){const L=c.key.charAt(0).toUpperCase()+c.key.slice(1);this.$store.commit(`Tools/${L}/setActive`,!0)}},deactivateTool(a){a.forEach(p=>{p&&this.$store.commit(`Tools/${p.charAt(0).toUpperCase()+p.slice(1)}/setActive`,!1)})},toggleLayer(a,p){a.setIsVisibleInMap(p),a.set("isSelected",p)},enableLayer(a){this.toggleLayer(a,!0)},disableLayer(a){this.toggleLayer(a,!1)},changeMode(){this.showMode=this.showMode==="classic"?"scrolly":"classic"},onClickChapter(a){this.currentStepIndex=this.storyConf.steps.findIndex(({associatedChapter:p})=>p===a.chapterNumber)},onHoverStep(a){this.isHovering=(0,A.getStepReference)(a.associatedChapter,a.stepNumber)},toggleInterval(){this.interval?this.deactivateInterval():this.activateInterval()},activateInterval(){this.interval=setInterval(()=>{this.currentStepIndex=this.storyConf.steps.length-1===this.currentStepIndex?0:this.currentStepIndex+1,this.$emit("change",this.currentStepIndex)},this.storyConf.storyInterval)},deactivateInterval(){clearInterval(this.interval),this.interval=null},loadStep(){return N(this,null,function*(){if(!this.currentStep)return;if(this.currentStep.stepWidth&&this.setInitialWidth(this.currentStep.stepWidth),this.currentStep.is3D&&!o.request("Map","isMap3d")?yield F.default.dispatch("Maps/activateMap3D"):!this.currentStep.is3D&&o.request("Map","isMap3d")&&(this.isChangeFrom3D=!0,yield F.default.dispatch("Maps/deactivateMap3D")),this.currentStep.centerCoordinate&&this.currentStep.centerCoordinate.length>0)if(this.currentStep.is3D)console.warn("Dont use centerCoordinate for 3D navigation.");else{const c=o.request("Map","getMap"),L=typeof c?.getView=="function"?c.getView():void 0;setTimeout(()=>{L.animate({center:this.currentStep.centerCoordinate,duration:2e3,zoom:this.currentStep.zoomLevel}),this.isChangeFrom3D=!1},this.isChangeFrom3D?1500:0)}if(this.currentStep.navigation3D&&Object.prototype.hasOwnProperty.call(this.currentStep.navigation3D,"cameraPosition")){const c=this.currentStep.navigation3D.cameraPosition,L=o.request("Map","getMap3d"),R=L.getCesiumScene().camera,B=Cesium.Cartesian3.fromDegrees(c[0],c[1],c[2]);R.flyTo({destination:B,orientation:{heading:this.currentStep.navigation3D.heading,pitch:this.currentStep.navigation3D.pitch},easingFunction:Cesium.EasingFunction.QUADRATIC_OUT})}const a=o.request("ModelList","getModelsByAttributes",{isVisibleInTree:!0}),p=(0,A.getHTMLContentReference)(this.currentStep.associatedChapter,this.currentStep.stepNumber);for(const c of a){const L=(this.currentStep.layers||[]).includes(c.id)||this.currentStep.layers.some(R=>R.includes(c.id));L?this.enableLayer(c):L||this.disableLayer(c)}if(o.trigger("Menu","rerender"),this.storyConf.htmlFolder&&this.currentStep.htmlFile&&this.showMode==="classic"?(0,g.default)("./assets/"+this.storyConf.htmlFolder+"/"+this.currentStep.htmlFile).then(c=>{this.loadedContent=c}):this.isPreview&&this.htmlContents[p]?this.loadedContent=this.htmlContents[p]:this.loadedContent=null,setTimeout(()=>{o.trigger("Menu","rerender")},500),!this.currentStep.is3D){const c=this.currentStep.interactionAddons||[];this.activeTools=c,c.forEach(this.activateTool)}})},createStepArray(a){a.forEach(p=>{const c=JSON.parse(JSON.stringify(p));delete c.steps,this.steps.push(c),p.steps&&this.createStepArray(p.steps)})},assignDepth(a,p=0,c=0){return c<a.length?(a[c].depth=p,a[c].steps&&a[c].steps.length?this.assignDepth(a[c].steps,p+1,0):this.assignDepth(a,p,c+1)):null}})}}).call(this,r(2))},4082:function(m,u,r){"use strict";r.r(u);var o=r(4083),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4083:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,l=(g,A,F)=>A in g?_(g,A,{enumerable:!0,configurable:!0,writable:!0,value:F}):g[A]=F,e=(g,A)=>{for(var F in A||(A={}))D.call(A,F)&&l(g,F,A[F]);if(C)for(var F of C(A))T.call(A,F)&&l(g,F,A[F]);return g},t=(g,A)=>v(g,M(A)),s=(g,A)=>{for(var F in A)_(g,F,{get:A[F],enumerable:!0})},n=(g,A,F,f)=>{if(A&&typeof A=="object"||typeof A=="function")for(let d of I(A))!D.call(g,d)&&d!==F&&_(g,d,{get:()=>A[d],enumerable:!(f=b(A,d))||f.enumerable});return g},h=(g,A,F)=>(F=g!=null?o(x(g)):{},n(A||!g||!g.__esModule?_(F,"default",{value:g,enumerable:!0}):F,g)),y=g=>n(_({},"__esModule",{value:!0}),g),w={};s(w,{default:()=>O}),m.exports=y(w);var N=r(9),P=r(3342),S=h(r(3343)),$=h(r(3321)),E=h(r(3344)),O={name:"StoryNavigation",model:{prop:"currentStepIndex",event:"change"},props:{currentStepIndex:{type:Number,default:null},currentChapter:{type:Number,default:null},steps:{type:Array,default:null}},data(){return{getStepReference:P.getStepReference}},computed:e({},(0,N.mapGetters)("Tools/DataNarrator",Object.keys($.default))),methods:t(e(e({},(0,N.mapMutations)("Tools/DataNarrator",Object.keys(E.default))),(0,N.mapActions)("Tools/DataNarrator",Object.keys(S.default))),{selectPreviousStep(){const A=Math.max(0,this.currentStepIndex-1);this.$emit("change",A)},selectNextStep(){const g=this.steps.length-1,A=Math.min(g,this.currentStepIndex+1);this.$emit("change",A)}})}},4084:function(m,u,r){"use strict";r.r(u);var o=r(4085),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4085:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,l=(f,d,i)=>d in f?_(f,d,{enumerable:!0,configurable:!0,writable:!0,value:i}):f[d]=i,e=(f,d)=>{for(var i in d||(d={}))D.call(d,i)&&l(f,i,d[i]);if(C)for(var i of C(d))T.call(d,i)&&l(f,i,d[i]);return f},t=(f,d)=>v(f,M(d)),s=(f,d)=>{for(var i in d)_(f,i,{get:d[i],enumerable:!0})},n=(f,d,i,j)=>{if(d&&typeof d=="object"||typeof d=="function")for(let a of I(d))!D.call(f,a)&&a!==i&&_(f,a,{get:()=>d[a],enumerable:!(j=b(d,a))||j.enumerable});return f},h=(f,d,i)=>(i=f!=null?o(x(f)):{},n(d||!f||!f.__esModule?_(i,"default",{value:f,enumerable:!0}):i,f)),y=f=>n(_({},"__esModule",{value:!0}),f),w=(f,d,i)=>new Promise((j,a)=>{var p=R=>{try{L(i.next(R))}catch(B){a(B)}},c=R=>{try{L(i.throw(R))}catch(B){a(B)}},L=R=>R.done?j(R.value):Promise.resolve(R.value).then(p,c);L((i=i.apply(f,d)).next())}),N={};s(N,{default:()=>F}),m.exports=y(N);var P=r(9),S=h(r(4434)),$=r(4435),E=h(r(20)),O=h(r(3343)),g=h(r(3321)),A=h(r(3344)),F={name:"ScrollyTeller",model:{prop:"currentStepIndex",event:"change"},data(){return{currentIndex:0,loadedContent:null,steps:null}},computed:e(e({},(0,P.mapGetters)("Tools/DataNarrator",Object.keys(g.default))),(0,P.mapGetters)(["uiStyle"])),created(){this.steps=this.storyConf.steps,this.steps.forEach(f=>{this.loadStoryContents(f.htmlFile).then(d=>{this.$set(f,"loadedContent",d)}).catch(d=>{console.error(d)})})},mounted(){let f="tool-window-vue";this.uiStyle==="TABLE"&&(f="table-tool-win-all-vue");const d=document.getElementsByClassName(f)[0],i=d.getElementsByClassName("win-heading")[0],j=d.getElementsByClassName("scrolly-button")[0],a=document.getElementById("tool-dataNarrator-reset"),p=document.getElementById("vue-tool-content-body"),c=(0,S.default)();d.style.setProperty("background-color","transparent","important"),d.style.boxShadow="none",d.style.height="100%",i.style="display: none;",p.style="height: 100%; background-color: transparent !important; -ms-overflow-style: none; overflow: overlay; max-height: 100%; padding: 0;",j&&(j.style="display: none;"),a&&(a.style="display: none;"),c.setup({step:".stepper"}).onStepEnter(L=>{this.currentIndex=L.index,this.$emit("change",L.index)}).onStepExit(()=>{this.currentIndex=null}),document.getElementsByClassName("stepper")[0].scrollIntoView({block:"center"})},methods:t(e(e({},(0,P.mapMutations)("Tools/DataNarrator",Object.keys(A.default))),(0,P.mapActions)("Tools/DataNarrator",Object.keys(O.default))),{loadStoryContents(f){return w(this,null,function*(){return this.storyConf.htmlFolder&&f?yield(yield E.default.get("./assets/"+this.storyConf.htmlFolder+"/"+f)).data:null})}})}},4086:function(m,u,r){"use strict";r.r(u);var o=r(4087),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4087:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.defineProperties,b=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,l=(d,i,j)=>i in d?_(d,i,{enumerable:!0,configurable:!0,writable:!0,value:j}):d[i]=j,e=(d,i)=>{for(var j in i||(i={}))D.call(i,j)&&l(d,j,i[j]);if(C)for(var j of C(i))T.call(i,j)&&l(d,j,i[j]);return d},t=(d,i)=>v(d,M(i)),s=(d,i)=>{for(var j in i)_(d,j,{get:i[j],enumerable:!0})},n=(d,i,j,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let p of I(i))!D.call(d,p)&&p!==j&&_(d,p,{get:()=>i[p],enumerable:!(a=b(i,p))||a.enumerable});return d},h=(d,i,j)=>(j=d!=null?o(x(d)):{},n(i||!d||!d.__esModule?_(j,"default",{value:d,enumerable:!0}):j,d)),y=d=>n(_({},"__esModule",{value:!0}),d),w=(d,i,j)=>new Promise((a,p)=>{var c=B=>{try{R(j.next(B))}catch(W){p(W)}},L=B=>{try{R(j.throw(B))}catch(W){p(W)}},R=B=>B.done?a(B.value):Promise.resolve(B.value).then(c,L);R((j=j.apply(d,i)).next())}),N={};s(N,{default:()=>f}),m.exports=y(N);var P=r(9),S=h(r(5008)),$=h(r(4434)),E=r(4435),O=h(r(20)),g=h(r(3343)),A=h(r(3321)),F=h(r(3344)),f={name:"DipasPlayer",components:{TableOfContents:S.default},model:{prop:"currentStepIndex",event:"change"},props:{storyConfPath:{type:String,default:null},steps:{type:Array,default:null}},data(){return{currentIndex:0,loadedContent:null,showTableOfContents:!1,storyProgress:0,rotateRight:0,rotateLeft:0}},computed:t(e(e({},(0,P.mapGetters)("Tools/DataNarrator",Object.keys(A.default))),(0,P.mapGetters)(["uiStyle"])),{cssVars(){return{"--rotate-right":this.rotateRight+"deg","--rotate-left":this.rotateLeft+"deg"}}}),created(){this.steps.forEach(d=>{this.loadStoryContents(d.htmlFile).then(i=>{this.$set(d,"loadedContent",i)}).catch(i=>{console.error(i)})})},mounted(){let d="tool-window-vue";this.uiStyle==="TABLE"&&(d="table-tool-win-all-vue");const i=document.getElementsByClassName(d)[0],j=i.getElementsByClassName("win-heading")[0],a=i.getElementsByClassName("scrolly-button")[0],p=document.getElementById("tool-dataNarrator-reset"),c=document.getElementById("vue-tool-content-body"),L=(0,$.default)();i.style.setProperty("background-color","transparent","important"),i.style.boxShadow="none",i.style.height="100%",j.style="display: none;",c.style="height: 100%; background-color: transparent !important; -ms-overflow-style: none; overflow: overlay; max-height: 100%; padding: 0;",a&&(a.style="display: none;"),p&&(p.style="display: none;"),L.setup({step:".stepper",offset:.5}).onStepEnter(R=>{this.currentIndex=R.index,this.$emit("change",R.index),R.element.classList.add("active");const B=100/this.steps.length*(R.index+1);B>0&&(B<=50?(this.rotateRight=this.percentageToDegrees(B),this.rotateLeft=0):(this.rotateRight=180,this.rotateLeft=this.percentageToDegrees(B-50)))}).onStepExit(R=>{R.element.classList.remove("active")}),document.getElementsByClassName("stepper")[0].scrollIntoView({block:"center"})},methods:t(e(e({},(0,P.mapMutations)("Tools/DataNarrator",Object.keys(F.default))),(0,P.mapActions)("Tools/DataNarrator",Object.keys(g.default))),{loadStoryContents(d){return w(this,null,function*(){if(this.storyConf.htmlFolder&&d){const i=this.storyConfPath.endsWith("/")?this.storyConfPath:this.storyConfPath+"/";return yield(yield O.default.get(i+this.storyConf.htmlFolder+"/"+d)).data}return null})},closeTOC(){this.showTableOfContents=!1},goToPrevStep(){document.getElementsByClassName("stepper")[this.currentIndex-1].scrollIntoView({block:"center"}),this.currentIndex-=1},goToNextStep(){document.getElementsByClassName("stepper")[this.currentIndex+1].scrollIntoView({block:"center"}),this.currentIndex+=1},callClose(){this.setActive(!1)},percentageToDegrees(d){return d/100*360}})}},4088:function(m,u,r){"use strict";r.r(u);var o=r(4089),_=r.n(o);for(var v in o)["default"].indexOf(v)<0&&function(b){r.d(u,b,function(){return o[b]})}(v);u.default=_.a},4089:function(m,u,r){var o=Object.create,_=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols,I=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,D=(N,P,S)=>P in N?_(N,P,{enumerable:!0,configurable:!0,writable:!0,value:S}):N[P]=S,T=(N,P)=>{for(var S in P||(P={}))C.call(P,S)&&D(N,S,P[S]);if(M)for(var S of M(P))x.call(P,S)&&D(N,S,P[S]);return N},l=(N,P)=>{for(var S in P)_(N,S,{get:P[S],enumerable:!0})},e=(N,P,S,$)=>{if(P&&typeof P=="object"||typeof P=="function")for(let E of b(P))!C.call(N,E)&&E!==S&&_(N,E,{get:()=>P[E],enumerable:!($=v(P,E))||$.enumerable});return N},t=(N,P,S)=>(S=N!=null?o(I(N)):{},e(P||!N||!N.__esModule?_(S,"default",{value:N,enumerable:!0}):S,N)),s=N=>e(_({},"__esModule",{value:!0}),N),n={};l(n,{default:()=>w}),m.exports=s(n);var h=r(9),y=t(r(3321)),w={name:"TableOfContents",model:{prop:"steps",event:"click"},props:{steps:{type:Array,default:null}},computed:T({},(0,h.mapGetters)("Tools/StoryTellingTool",Object.keys(y.default))),methods:{scrollToStep(N){document.getElementsByClassName("stepper")[N].scrollIntoView({block:"center"}),this.$emit("close-toc")}}}},4422:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("ToolTemplate",{attrs:{title:e.$t(e.name),icon:e.glyphicon,active:e.active,"render-to-window":e.renderToWindow,"resizable-window":e.resizableWindow,"deactivate-gfi":e.deactivateGFI,"initial-width":e.initialWidth,"initial-width-mobile":e.initialWidthMobile},scopedSlots:e._u([{key:"toolBody",fn:function(){return[e.active?t("v-app",{class:e.mode,attrs:{id:"tool-dataNarrator"}},[e.mode&&e.storyConf.storyInterval?t("span",{attrs:{id:"tool-dataNarrator-clock"}},[t("span",{on:{click:function(s){return e.$refs.player.toggleInterval()},keydown:function(s){return e.$refs.player.toggleInterval()}}},[t("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t("v-icon",e._g(e._b({},"v-icon",n,!1),s),[e._v(`timer
                            `)])]}}],null,!1,1207753930)},[e._v(" "),t("span",[e._v("auto play")])])],1)]):e._e(),e._v(" "),e.mode?t("span",{attrs:{id:"tool-dataNarrator-reset"}},[t("span",{on:{click:e.reset,keydown:e.reset}},[t("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t("v-icon",e._g(e._b({},"v-icon",n,!1),s),[e._v(`keyboard_backspace
                            `)])]}}],null,!1,3895764592)},[e._v(" "),t("span",[e._v("reset")])])],1)]):e._e(),e._v(" "),e.mode?e._e():t("v-item-group",{attrs:{id:"tool-dataNarrator-modeSelection",value:e.mode},on:{change:e.onChangeStoryTellingMode}},e._l(e.modeOptions,function(s){return t("v-flex",{key:s.title},[t("v-item",{scopedSlots:e._u([{key:"default",fn:function({toggle:n}){return[s.visible?t("v-card",{staticClass:"my-4",attrs:{disabled:s.disabled}},[s.title==="Story starten"?t("v-img",{attrs:{src:e.storyConf.coverImagePath,height:"200px"}}):e._e(),e._v(" "),s.title==="Story starten"?t("v-card-title",[e._v(`
                                `+e._s(e.storyConf.title)+`
                            `)]):e._e(),e._v(" "),s.title==="Story starten"?t("v-card-subtitle",[e._v(`
                                `+e._s(e.storyConf.description)+`
                            `)]):e._e(),e._v(" "),t("v-card-actions",[s.title==="Story starten"?t("v-btn",{attrs:{text:""},on:{click:n}},[e._v(`
                                    `+e._s(s.title)+`
                                `)]):e._e(),e._v(" "),s.title==="Story erstellen"?t("v-col",{staticClass:"text-center"},[t("p",[t("i",[e._v("- Experimentell -")])]),e._v(" "),t("v-btn",{attrs:{outlined:"",small:"",color:""},on:{click:n}},[t("v-icon",[e._v("add")]),e._v(`
                                        Eigene `+e._s(s.title)+`
                                    `)],1)],1):e._e()],1)],1):e._e()]}}],null,!0)}),e._v(" "),t("v-spacer")],1)}),1),e._v(" "),e.mode===e.constants.storyTellingModes.CREATE?t("StoryCreator"):e._e(),e._v(" "),e.mode===e.constants.storyTellingModes.PLAY&&e.storyConfPath?t("StoryPlayer",{ref:"player",attrs:{"story-conf-path":e.storyConfPath}}):e._e()],1):e._e()]},proxy:!0}])})},T=[];D._withStripped=!0},4423:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"tool-dataNarrator-creator"}},[e.view===e.constants.storyCreationViews.STORY_CREATION?t("StoryForm",{on:{openView:s=>e.view=s,editStep:e.onEditStep}}):e._e(),e._v(" "),e.view===e.constants.storyCreationViews.STEP_CREATION?t("StepForm",{attrs:{"is-editing":Boolean(e.stepToEdit),"initial-step":e.stepToEdit},on:{return:e.returnToStoryForm}}):e._e(),e._v(" "),e.view===e.constants.storyCreationViews.PREVIEW?t("div",{staticClass:"tool-dataNarrator-creator-preview"},[t("div",{staticClass:"tool-dataNarrator-creator-preview-header primary"},[t("v-btn",{attrs:{color:"white",icon:""},on:{click:e.returnToStoryForm}},[t("v-icon",[e._v("arrow_back_ios_new")])],1),e._v(" "),t("h4",{staticClass:"white--text"},[e._v(`
                Vorschau
            `)])],1),e._v(" "),t("StoryPlayer",{attrs:{"is-preview":""}})],1):e._e()],1)},T=[];D._withStripped=!0},4424:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"tool-dataNarrator-creator-storyForm"}},[t("h4",[e._v(`
        `+e._s(e.$t("additional:modules.tools.dataNarrator.createStory"))+`
    `)]),e._v(" "),t("form",{on:{submit:function(s){return s.preventDefault(),e.downloadStoryFiles.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"title"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.storyName"))+`
            `)]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.storyConf.title,expression:"storyConf.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",required:""},domProps:{value:e.storyConf.title},on:{input:function(s){s.target.composing||e.$set(e.storyConf,"title",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"description"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.storyDescription"))+`
            `)]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.storyConf.description,expression:"storyConf.description"}],staticClass:"form-control",attrs:{id:"description"},domProps:{value:e.storyConf.description},on:{input:function(s){s.target.composing||e.$set(e.storyConf,"description",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"author"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.author"))+`
            `)]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.storyConf.author,expression:"storyConf.author"}],staticClass:"form-control",attrs:{id:"author",type:"text"},domProps:{value:e.storyConf.author},on:{input:function(s){s.target.composing||e.$set(e.storyConf,"author",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"slide-navigation"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.steps"))+`
            `)]),e._v(" "),t("v-slide-group",{attrs:{id:"slide-navigation","show-arrows":"","center-active":""},on:{change:s=>e.$emit("editStep",e.storyConf.steps[s])}},[e._l(e.storyConf.steps,function(s){return t("v-slide-item",{key:e.getStepReference(s.associatedChapter,s.stepNumber),scopedSlots:e._u([{key:"default",fn:function({toggle:n}){return[t("v-btn",{staticClass:"story-step-button",attrs:{depressed:"",rounded:"",title:s.title},on:{click:n}},[e._v(`
                        `+e._s(e.getStepReference(s.associatedChapter,s.stepNumber))+`
                    `)])]}}],null,!0)})}),e._v(" "),t("v-slide-item",[t("v-btn",{staticClass:"story-step-button",attrs:{icon:"",title:e.$t("additional:modules.tools.dataNarrator.button.addStep")},on:{click:function(s){return e.$emit("openView",e.constants.storyCreationViews.STEP_CREATION)}}},[t("v-icon",[e._v("add_circle")])],1)],1)],2)],1),e._v(" "),t("div",{staticClass:"tool-dataNarrator-creator-actions"},[t("button",{staticClass:"btn btn-lgv-grey",attrs:{type:"button",disabled:!e.storyConf.steps||!e.storyConf.steps.length},on:{click:function(s){return e.$emit("openView",e.constants.storyCreationViews.PREVIEW)}}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.button.previewStory"))+`
            `)]),e._v(" "),t("button",{staticClass:"btn btn-lgv-grey",attrs:{type:"submit",disabled:!e.storyConf.steps||!e.storyConf.steps.length}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.button.downloadStory"))+`
            `)])])])])},T=[];D._withStripped=!0},4425:function(m,u,r){},4426:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"tool-dataNarrator-creator-stepForm"}},[t("h4",[e._v(`
        `+e._s(e.$t("additional:modules.tools.dataNarrator.createStoryStep"))+`
    `)]),e._v(" "),t("form",{on:{submit:function(s){return s.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-associate"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.chapter"))+`
            `)]),e._v(" "),t("v-select",{attrs:{id:"step-associate",items:e.chapterOptions,required:"",dense:"",solo:"","hide-details":""},model:{value:e.step.associatedChapter,callback:function(s){e.$set(e.step,"associatedChapter",s)},expression:"step.associatedChapter"}})],1),e._v(" "),e.step.associatedChapter===null?t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-number"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.newChapterNumber"))+`
            `)]),e._v(" "),t("input",{staticClass:"form-control",attrs:{id:"step-number",type:"number",min:"1",required:""},domProps:{value:e.newChapter.chapterNumber},on:{change:e.onChangeChapterNumber}}),e._v(" "),e.allChapterNumbers.includes(e.newChapter.chapterNumber)?t("p",{staticClass:"text-danger"},[t("small",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.dataNarrator.error.chapterNumberAlreadyExists"))+`
                `)])]):e._e()]):e._e(),e._v(" "),e.step.associatedChapter===null?t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-chapter-title"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.newChapterTitle"))+`
            `)]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newChapter.chapterTitle,expression:"newChapter.chapterTitle"}],staticClass:"form-control",attrs:{id:"step-chapter-title",required:""},domProps:{value:e.newChapter.chapterTitle},on:{input:function(s){s.target.composing||e.$set(e.newChapter,"chapterTitle",s.target.value)}}})]):e._e(),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-number"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.stepNumber"))+`
            `)]),e._v(" "),t("input",{staticClass:"form-control",attrs:{id:"step-number",type:"number",min:"1",required:""},domProps:{value:e.step.stepNumber},on:{change:e.onChangeStepNumber}}),e._v(" "),e.allStepNumbers.includes(e.step.stepNumber)&&(!e.initialStep||e.step.stepNumber!==e.initialStep.stepNumber)?t("p",{staticClass:"text-danger"},[t("small",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.dataNarrator.error.stepNumberAlreadyExists"))+`
                `)])]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-title"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.stepTitle"))+`
            `)]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.step.title,expression:"step.title"}],staticClass:"form-control",attrs:{id:"step-title",required:""},domProps:{value:e.step.title},on:{input:function(s){s.target.composing||e.$set(e.step,"title",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-width"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.stepWidth"))+`
            `)]),e._v(" "),t("input",{staticClass:"form-control",attrs:{id:"step-width",type:"number",min:e.minStepWidth,max:e.maxStepWidth,step:"10"},domProps:{value:e.step.stepWidth},on:{change:e.onChangeStepWidth}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-visible"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.visible"))+`
            `)]),e._v(" "),t("input",{staticClass:"checkbox",attrs:{id:"step-visible",type:"checkbox"},domProps:{checked:e.step.visible},on:{change:function(s){e.step.visible=s.target.checked}}})]),e._v(" "),e.is3DLayerActive?t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-is3d"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.is3D"))+`
            `)]),e._v(" "),t("input",{staticClass:"checkbox",attrs:{id:"step-is3d",type:"checkbox"},domProps:{checked:e.step.is3D},on:{change:function(s){return e.activate3DMap(s.target.checked)}}})]):e._e(),e._v(" "),e.step.is3D?t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-3d-center"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.centerCoordinate3D"))+`
            `)]),e._v(" "),t("div",{staticClass:"stepForm-inputs-centerCoordinate stepForm-inputs-3d-position"},[t("input",{staticClass:"form-control",attrs:{id:"step-3d-center",readonly:""},domProps:{value:e.step.navigation3D.cameraPosition[0]}}),e._v(" "),t("input",{staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.step.navigation3D.cameraPosition[1]}}),e._v(" "),t("input",{staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.step.navigation3D.cameraPosition[2]}}),e._v(" "),t("div",{staticClass:"input-group"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.navigation3D.cameraPosition=e.get3DMapCenter().cameraPosition}}},[t("v-icon",[e._v("add_circle")])],1),e._v(" "),t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.navigation3D.cameraPosition=null}}},[t("v-icon",[e._v("backspace")])],1)])]),e._v(" "),e.isCameraPositionDifferent()?t("p",{staticClass:"text-warning"},[t("small",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.dataNarrator.warning.mapMoved"))+`
                `)])]):e._e()]):e._e(),e._v(" "),e.step.is3D?t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-3d-heading"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.heading"))+`
            `)]),e._v(" "),t("div",{staticClass:"stepForm-inputs-centerCoordinate stepForm-3d-others"},[t("input",{staticClass:"form-control",attrs:{id:"step-3d-heading",readonly:""},domProps:{value:e.step.navigation3D.heading}}),e._v(" "),t("div",{staticClass:"input-group"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.navigation3D.heading=e.get3DMapCenter().heading}}},[t("v-icon",[e._v("add_circle")])],1),e._v(" "),t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.navigation3D.heading=null}}},[t("v-icon",[e._v("backspace")])],1)])]),e._v(" "),e.mapMovedPosition.heading&&e.step.navigation3D.heading&&e.step.navigation3D.heading!==e.mapMovedPosition.heading?t("p",{staticClass:"text-warning"},[t("small",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.dataNarrator.warning.mapMoved"))+`
                `)])]):e._e()]):e._e(),e._v(" "),e.step.is3D?t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-3d-pitch"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.pitch"))+`
            `)]),e._v(" "),t("div",{staticClass:"stepForm-inputs-centerCoordinate stepForm-3d-others"},[t("input",{staticClass:"form-control",attrs:{id:"step-3d-pitch",readonly:""},domProps:{value:e.step.navigation3D.pitch}}),e._v(" "),t("div",{staticClass:"input-group"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.navigation3D.pitch=e.get3DMapCenter().pitch}}},[t("v-icon",[e._v("add_circle")])],1),e._v(" "),t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.navigation3D.pitch=null}}},[t("v-icon",[e._v("backspace")])],1)])]),e._v(" "),e.mapMovedPosition.pitch&&e.step.navigation3D.pitch&&e.step.navigation3D.pitch!==e.mapMovedPosition.pitch?t("p",{staticClass:"text-warning"},[t("small",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.dataNarrator.warning.mapMoved"))+`
                `)])]):e._e()]):e._e(),e._v(" "),e.step.is3D?e._e():t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-center"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.centerCoordinate"))+`
            `)]),e._v(" "),t("div",{staticClass:"stepForm-inputs-centerCoordinate"},[t("input",{staticClass:"form-control",attrs:{id:"step-center",readonly:""},domProps:{value:e.step.centerCoordinate&&e.step.centerCoordinate[0]}}),e._v(" "),t("input",{staticClass:"form-control",attrs:{readonly:""},domProps:{value:e.step.centerCoordinate&&e.step.centerCoordinate[1]}}),e._v(" "),t("div",{staticClass:"input-group"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.centerCoordinate=e.center()}}},[t("v-icon",[e._v("add_circle")])],1),e._v(" "),t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.centerCoordinate=null}}},[t("v-icon",[e._v("backspace")])],1)])]),e._v(" "),e.step.centerCoordinate&&e.step.centerCoordinate!==e.center()?t("p",{staticClass:"text-warning"},[t("small",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.dataNarrator.warning.mapMoved"))+`
                `)])]):e._e()]),e._v(" "),e.step.is3D?e._e():t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-zoom"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.zoomLevel"))+`
            `)]),e._v(" "),t("div",{staticClass:"stepForm-inputs-zoomLevel"},[t("input",{staticClass:"form-control",attrs:{id:"step-zoom",readonly:""},domProps:{value:e.step.zoomLevel}}),e._v(" "),t("div",{staticClass:"input-group"},[t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.zoomLevel=e.zoom()}}},[t("v-icon",[e._v("add_circle")])],1),e._v(" "),t("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){e.step.zoomLevel=null}}},[t("v-icon",[e._v("backspace")])],1)])]),e._v(" "),e.step.zoomLevel!==null&&e.step.zoomLevel!==e.zoom()?t("p",{staticClass:"text-warning"},[t("small",[e._v(`
                    `+e._s(e.$t("additional:modules.tools.dataNarrator.warning.mapZoomed"))+`
                `)])]):e._e()]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-layer"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.layers"))+`
            `)]),e._v(" "),t("v-select",{attrs:{id:"step-layer",items:e.layerOptions,multiple:"",dense:"",solo:"","hide-details":""},model:{value:e.step.layers,callback:function(s){e.$set(e.step,"layers",s)},expression:"step.layers"}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-addons"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.interactionAddons"))+`
            `)]),e._v(" "),t("v-select",{attrs:{id:"step-addons",items:e.addonOptions,multiple:"",dense:"",solo:"","hide-details":""},model:{value:e.step.interactionAddons,callback:function(s){e.$set(e.step,"interactionAddons",s)},expression:"step.interactionAddons"}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"step-vue-editor"}},[e._v(`
                `+e._s(e.$t("additional:modules.tools.dataNarrator.label.htmlContent"))+`
            `)]),e._v(" "),t("div",{staticClass:"stepForm-inputs-htmlEditor"},[t("VueEditor",{attrs:{id:"step-vue-editor","editor-toolbar":e.constants.htmlEditorToolbar,"use-custom-image-handler":""},on:{"image-added":e.onAddImage,"image-removed":e.onRemoveImage},model:{value:e.htmlContent,callback:function(s){e.htmlContent=s},expression:"htmlContent"}})],1)]),e._v(" "),t("button",{staticClass:"btn btn-lgv-grey",attrs:{type:"button"},on:{click:function(s){return e.$emit("return")}}},[e._v(`
            `+e._s(e.$t("additional:modules.tools.dataNarrator.button.cancel"))+`
        `)]),e._v(" "),e.isEditing?t("button",{staticClass:"btn btn-lgv-grey",attrs:{type:"button"},on:{click:e.onDeleteStep}},[e._v(`
            `+e._s(e.$t("additional:modules.tools.dataNarrator.button.deleteStep"))+`
        `)]):e._e(),e._v(" "),t("button",{staticClass:"btn btn-lgv-grey",attrs:{type:"submit"}},[e._v(`
            `+e._s(e.$t(e.isEditing?"additional:modules.tools.dataNarrator.button.submitEditStep":"additional:modules.tools.dataNarrator.button.submitAddStep"))+`
        `)])])])},T=[];D._withStripped=!0},4428:function(m,u,r){},4429:function(m,u,r){"use strict";r.r(u);var o=r(4998),_=r(4080);for(var v in _)["default"].indexOf(v)<0&&function(C){r.d(u,C,function(){return _[C]})}(v);var b=r(5013),M=r(0),I=Object(M.a)(_.default,o.render,o.staticRenderFns,!1,null,"71288476",null);u.default=I.exports},4430:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return e.storyConf!==void 0&&e.storyConf.steps&&e.currentStep?t("div",{attrs:{id:"tool-dataNarrator-player"}},[e.isScrolly?t("span",{staticClass:"scrolly-button",on:{click:e.changeMode,keydown:e.changeMode}},[t("v-icon",[e._v("style")])],1):e._e(),e._v(" "),e.showMode==="scrolly"?t("ScrollyTeller",{model:{value:e.currentStepIndex,callback:function(s){e.currentStepIndex=s},expression:"currentStepIndex"}}):e._e(),e._v(" "),e.showMode==="classic"?t("div",{attrs:{id:"tool-dataNarrator-currentStep"}},[e.currentChapter?t("h2",[e._v(`
            `+e._s(e.currentChapter.chapterTitle)+`
        `)]):e._e(),e._v(" "),t("h1",[e._v(e._s(e.currentStep.title))]),e._v(" "),e.currentStep?t("div",{staticClass:"tool-dataNarrator-content"},[e.loadedContent?t("div",{domProps:{innerHTML:e._s(e.loadedContent)}}):e._e()]):e._e()]):e._e(),e._v(" "),e.showMode==="classic"?t("StoryNavigation",{attrs:{"current-chapter":e.currentStep&&e.currentStep.associatedChapter,steps:e.storyConf.steps},model:{value:e.currentStepIndex,callback:function(s){e.currentStepIndex=s},expression:"currentStepIndex"}}):e._e(),e._v(" "),e.showMode==="dipas"?t("DipasPlayer",{attrs:{"story-conf-path":e.storyConfPath,steps:e.steps},model:{value:e.currentStepIndex,callback:function(s){e.currentStepIndex=s},expression:"currentStepIndex"}}):e._e()],1):t("div",{attrs:{id:"tool-dataNarrator-tableOfContents"}},[t("h1",[e._v(e._s(e.storyConf.title))]),e._v(" "),t("h2",[e._v(`
        `+e._s(e.$t("additional:modules.tools.dataNarrator.tableOfContents"))+`
    `)]),e._v(" "),t("ol",{staticClass:"tableOfContents"},e._l(e.storyConf.chapters,function(s){return t("li",{key:s.chapterNumber},[t("span",{class:{"primary--text":e.isHovering===s.chapterNumber},on:{mouseover:function(n){e.isHovering=s.chapterNumber},focus:function(n){e.isHovering=s.chapterNumber},mouseout:function(n){e.isHovering=null},blur:function(n){e.isHovering=null},click:function(n){return e.onClickChapter(s)},keydown:function(n){return e.onClickChapter(s)}}},[e._v(`
                `+e._s(s.chapterNumber)+`
                `+e._s(s.chapterTitle)+`
            `)]),e._v(" "),t("ol",e._l(e.storyConf.steps,function(n,h){return t("li",{key:n.stepNumber+n.title,class:{"primary--text":e.isHovering===e.getStepReference(n.associatedChapter,n.stepNumber)},on:{mouseover:function(y){return y.stopPropagation(),e.onHoverStep(n)},focus:function(y){return e.onHoverStep(n)},mouseout:function(y){y.stopPropagation(),e.isHovering=null},blur:function(y){e.isHovering=null},click:function(y){y.stopPropagation(),e.currentStepIndex=h},keydown:function(y){e.currentStepIndex=h}}},[n.associatedChapter===s.chapterNumber?t("span",[e._v(`
                        `+e._s(e.getStepReference(n.associatedChapter,n.stepNumber))+`
                        `+e._s(n.title)+`
                    `)]):e._e()])}),0)])}),0)])},T=[];D._withStripped=!0},4431:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"tool-dataNarrator-navigation"}},[t("v-btn",{staticClass:"story-navigation-button",attrs:{disabled:e.currentStepIndex<=0,depressed:"",rounded:""},on:{click:e.selectPreviousStep}},[t("v-icon",[e._v("arrow_left")])],1),e._v(" "),t("v-slide-group",{attrs:{value:e.currentStepIndex+1,"show-arrows":"","center-active":""},on:{change:s=>e.$emit("change",s>0?s-1:null)}},[t("v-slide-item",[t("v-btn",{staticClass:"story-navigation-step-button",attrs:{depressed:"",rounded:""},on:{click:function(s){return e.$emit("change",null)}}},[t("v-icon",[e._v("list")])],1)],1),e._v(" "),e._l(e.steps,function(s){return t("v-slide-item",{key:e.getStepReference(s.associatedChapter,s.stepNumber),scopedSlots:e._u([{key:"default",fn:function({active:n,toggle:h}){return[t("v-btn",{staticClass:"story-navigation-step-button",class:{currentChapter:s.associatedChapter===e.currentChapter,hidden:s.associatedChapter!==e.currentChapter&&s.stepNumber!==1},attrs:{"input-value":n,"active-class":"primary white--text",depressed:"",rounded:""},on:{click:h}},[s.associatedChapter===e.currentChapter?[t("span",[e._v(`
                        `+e._s(e.getStepReference(s.associatedChapter,s.stepNumber))+`
                    `)])]:[t("span",[e._v(`
                        `+e._s(s.associatedChapter)+`
                    `)])]],2)]}}],null,!0)})})],2),e._v(" "),t("v-btn",{staticClass:"story-navigation-button",attrs:{disabled:e.currentStepIndex>=e.steps.length-1,depressed:"",rounded:""},on:{click:e.selectNextStep}},[t("v-icon",[e._v("arrow_right")])],1)],1)},T=[];D._withStripped=!0},4432:function(m,u,r){},4433:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"scrollyteller"}},e._l(e.steps,function(s,n){return t("div",{key:s.title,staticClass:"stepper",class:{active:n===e.currentIndex}},[s.title?t("h1",[e._v(`
            `+e._s(s.title)+`
        `)]):e._e(),e._v(" "),t("div",{staticClass:"tool-dataNarrator-content"},[n===e.currentIndex?t("div",{domProps:{innerHTML:e._s(s.loadedContent)}}):e._e()])])}),0)},T=[];D._withStripped=!0},4436:function(m,u,r){},4437:function(m,u,r){},4438:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex w-100 justify-content-between"},[e.showTableOfContents?t("div",{staticClass:"d-flex table-of-contents"},[t("div",{staticClass:"d-flex justify-content-between tob-header"},[t("div",[e._v(" "+e._s(e.$t("additional:modules.tools.dataNarrator.tableOfContents"))+" ")]),e._v(" "),t("span",{staticClass:"bootstrap-icon"},[t("i",{staticClass:"bi-x",on:{click:function(s){e.showTableOfContents^=1},keydown:function(s){e.showTableOfContents^=1}}})])]),e._v(" "),t("TableOfContents",{attrs:{steps:e.steps},on:{"close-toc":e.closeTOC}})],1):e._e(),e._v(" "),t("div",{staticClass:"d-flex w-100 justify-content-between"},[t("div",{attrs:{id:"dipasplayer"}},e._l(e.steps,function(s,n){return t("div",{key:s.title,staticClass:"stepper",class:{firstStep:n===0,lastStep:n===e.steps.length-1}},[s.titleImage&&s.titleImage.length?t("img",{attrs:{alt:"step.titleImageAlt",src:s.titleImage}}):e._e(),e._v(" "),s.title?t("h1",[e._v(`
                    `+e._s(s.title)+`
                `)]):e._e(),e._v(" "),t("div",{staticClass:"tool-dataNarrator-content"},[t("div",{domProps:{innerHTML:e._s(s.loadedContent)}})])])}),0),e._v(" "),t("div",{staticClass:"d-flex toolbar"},[t("div",{staticClass:"buttonrow"},[t("div",{staticClass:"row d-flex mt-100"},[t("div",{staticClass:"progress",style:e.cssVars},[e._m(0),e._v(" "),e._m(1),e._v(" "),t("button",{staticClass:"bootstrap-icon tob-button",class:{tobActive:e.showTableOfContents},on:{click:function(s){e.showTableOfContents^=1},keydown:function(s){e.showTableOfContents^=1}}},[t("i",{staticClass:"bi-list-ul"})])])]),e._v(" "),t("div",{staticClass:"nav-buttons"},[t("button",{staticClass:"bootstrap-icon",attrs:{disabled:e.currentIndex<=0},on:{click:e.goToPrevStep,keydown:e.goToPrevStep}},[t("i",{staticClass:"bi-arrow-up"})]),e._v(" "),t("button",{staticClass:"bootstrap-icon",attrs:{disabled:e.currentIndex>=e.steps.length-1},on:{click:e.goToNextStep,keydown:e.goToNextStep}},[t("i",{staticClass:"bi-arrow-down"})])]),e._v(" "),t("button",{staticClass:"bootstrap-icon home-button",on:{click:e.callClose}},[t("i",{staticClass:"bi-house-door-fill"})])])])])])},T=[function(){var l=this,e=l._self._c;return e("span",{staticClass:"progress-left"},[e("span",{staticClass:"progress-bar"})])},function(){var l=this,e=l._self._c;return e("span",{staticClass:"progress-right"},[e("span",{staticClass:"progress-bar"})])}];D._withStripped=!0},4439:function(m,u,r){var o=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,M=(l,e)=>{for(var t in e)o(l,t,{get:e[t],enumerable:!0})},I=(l,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of v(e))!b.call(l,n)&&n!==t&&o(l,n,{get:()=>e[n],enumerable:!(s=_(e,n))||s.enumerable});return l},C=l=>I(o({},"__esModule",{value:!0}),l),x={};M(x,{render:()=>D,staticRenderFns:()=>T}),m.exports=C(x);var D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tob-list"},[t("ul",{staticClass:"list-unstyled step-list"},e._l(e.steps,function(s,n){return t("li",{key:n+s.title,on:{click:function(h){return e.scrollToStep(n)},keydown:function(h){return e.scrollToStep(n)}}},[t("span",{style:{marginLeft:s.depth*10+"px"}},[e._v(`
                `+e._s(s.title)+`
            `)])])}),0)])},T=[];D._withStripped=!0},4440:function(m,u,r){},4441:function(m,u,r){},4442:function(m,u,r){},4443:function(m,u,r){},4444:function(m,u,r){},4445:function(m,u,r){},4446:function(m,u,r){},4987:function(m,u,r){"use strict";r.r(u);var o=r(4988),_=r(4072);for(var v in _)["default"].indexOf(v)<0&&function(x){r.d(u,x,function(){return _[x]})}(v);var b=r(5015),M=r(5016),I=r(0),C=Object(I.a)(_.default,o.render,o.staticRenderFns,!1,null,"068a8485",null);u.default=C.exports},4988:function(m,u,r){"use strict";var o=r(4422),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},4989:function(m,u,r){"use strict";r.r(u);var o=r(4990),_=r(4074);for(var v in _)["default"].indexOf(v)<0&&function(C){r.d(u,C,function(){return _[C]})}(v);var b=r(5014),M=r(0),I=Object(M.a)(_.default,o.render,o.staticRenderFns,!1,null,"0a0fb592",null);u.default=I.exports},4990:function(m,u,r){"use strict";var o=r(4423),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},4991:function(m,u,r){"use strict";r.r(u);var o=r(4992),_=r(4076);for(var v in _)["default"].indexOf(v)<0&&function(C){r.d(u,C,function(){return _[C]})}(v);var b=r(4993),M=r(0),I=Object(M.a)(_.default,o.render,o.staticRenderFns,!1,null,"7c77a45d",null);u.default=I.exports},4992:function(m,u,r){"use strict";var o=r(4424),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},4993:function(m,u,r){"use strict";var o=r(4425),_=r.n(o)},4994:function(m,u,r){"use strict";r.r(u);var o=r(4995),_=r(4078);for(var v in _)["default"].indexOf(v)<0&&function(C){r.d(u,C,function(){return _[C]})}(v);var b=r(4997),M=r(0),I=Object(M.a)(_.default,o.render,o.staticRenderFns,!1,null,"2a244db6",null);u.default=I.exports},4995:function(m,u,r){"use strict";var o=r(4426),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},4997:function(m,u,r){"use strict";var o=r(4428),_=r.n(o)},4998:function(m,u,r){"use strict";var o=r(4430),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},4999:function(m,u,r){"use strict";r.r(u);var o=r(5e3),_=r(4082);for(var v in _)["default"].indexOf(v)<0&&function(C){r.d(u,C,function(){return _[C]})}(v);var b=r(5001),M=r(0),I=Object(M.a)(_.default,o.render,o.staticRenderFns,!1,null,"db313c22",null);u.default=I.exports},5e3:function(m,u,r){"use strict";var o=r(4431),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},5001:function(m,u,r){"use strict";var o=r(4432),_=r.n(o)},5002:function(m,u,r){"use strict";r.r(u);var o=r(5003),_=r(4084);for(var v in _)["default"].indexOf(v)<0&&function(x){r.d(u,x,function(){return _[x]})}(v);var b=r(5004),M=r(5005),I=r(0),C=Object(I.a)(_.default,o.render,o.staticRenderFns,!1,null,"7a661f72",null);u.default=C.exports},5003:function(m,u,r){"use strict";var o=r(4433),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},5004:function(m,u,r){"use strict";var o=r(4436),_=r.n(o)},5005:function(m,u,r){"use strict";var o=r(4437),_=r.n(o)},5006:function(m,u,r){"use strict";r.r(u);var o=r(5007),_=r(4086);for(var v in _)["default"].indexOf(v)<0&&function(x){r.d(u,x,function(){return _[x]})}(v);var b=r(5011),M=r(5012),I=r(0),C=Object(I.a)(_.default,o.render,o.staticRenderFns,!1,null,"7d1f9b3c",null);u.default=C.exports},5007:function(m,u,r){"use strict";var o=r(4438),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},5008:function(m,u,r){"use strict";r.r(u);var o=r(5009),_=r(4088);for(var v in _)["default"].indexOf(v)<0&&function(C){r.d(u,C,function(){return _[C]})}(v);var b=r(5010),M=r(0),I=Object(M.a)(_.default,o.render,o.staticRenderFns,!1,null,"455767b2",null);u.default=I.exports},5009:function(m,u,r){"use strict";var o=r(4439),_=r.n(o);r.o(o,"render")&&r.d(u,"render",function(){return o.render}),r.o(o,"staticRenderFns")&&r.d(u,"staticRenderFns",function(){return o.staticRenderFns})},5010:function(m,u,r){"use strict";var o=r(4440),_=r.n(o)},5011:function(m,u,r){"use strict";var o=r(4441),_=r.n(o)},5012:function(m,u,r){"use strict";var o=r(4442),_=r.n(o)},5013:function(m,u,r){"use strict";var o=r(4443),_=r.n(o)},5014:function(m,u,r){"use strict";var o=r(4444),_=r.n(o)},5015:function(m,u,r){"use strict";var o=r(4445),_=r.n(o)},5016:function(m,u,r){"use strict";var o=r(4446),_=r.n(o)}}]);
